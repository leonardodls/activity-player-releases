define((function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){!function(t){"use strict";var e=function(){},n={},o=[],r=[];function i(t,i){var s=r,c=void 0,a=void 0,u=void 0,l=void 0;for(l=arguments.length;l-- >2;)o.push(arguments[l]);for(i&&null!=i.children&&(o.length||o.push(i.children),delete i.children);o.length;)if((a=o.pop())&&void 0!==a.pop)for(l=a.length;l--;)o.push(a[l]);else"boolean"==typeof a&&(a=null),(u="function"!=typeof t)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(u=!1)),u&&c?s[s.length-1]+=a:s===r?s=[a]:s.push(a),c=u;var p=new e;return p.nodeName=t,p.children=s,p.attributes=null==i?void 0:i,p.key=null==i?void 0:i.key,void 0!==n.vnode&&n.vnode(p),p}function s(t,e){for(var n in e)t[n]=e[n];return t}function c(t,e){t&&("function"==typeof t?t(e):t.current=e)}var a="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(t,e){return i(t.nodeName,s(s({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var l=0,p=1,d=2,f=3,h="__preactattr_",m=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,y=[];function v(t){!t._dirty&&(t._dirty=!0)&&1==y.push(t)&&(n.debounceRendering||a)(_)}function _(){for(var t=void 0;t=y.pop();)t._dirty&&W(t)}function g(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&b(t,e.nodeName):n||t._componentConstructor===e.nodeName}function b(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function I(t){var e=s({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===e[o]&&(e[o]=n[o]);return e}function E(t){var e=t.parentNode;e&&e.removeChild(t)}function S(t,e,n,o,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)c(n,null),c(o,t);else if("class"!==e||r)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(t.style[i]="");for(var s in o)t.style[s]="number"==typeof o[s]&&!1===m.test(s)?o[s]+"px":o[s]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),o?n||t.addEventListener(e,C,a):t.removeEventListener(e,C,a),(t._listeners||(t._listeners={}))[e]=o}else if("list"!==e&&"type"!==e&&!r&&e in t){try{t[e]=null==o?"":o}catch(t){}null!=o&&!1!==o||"spellcheck"==e||t.removeAttribute(e)}else{var u=r&&e!==(e=e.replace(/^xlink:?/,""));null==o||!1===o?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o))}else t.className=o||""}function C(t){return this._listeners[t.type](n.event&&n.event(t)||t)}var P=[],B=0,N=!1,A=!1;function x(){for(var t=void 0;t=P.shift();)n.afterMount&&n.afterMount(t),t.componentDidMount&&t.componentDidMount()}function w(t,e,n,o,r,i){B++||(N=null!=r&&void 0!==r.ownerSVGElement,A=null!=t&&!(h in t));var s=M(t,e,n,o,i);return r&&s.parentNode!==r&&r.appendChild(s),--B||(A=!1,i||x()),s}function M(t,e,n,o,r){var i=t,s=N;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),k(t,!0))),i[h]=!0,i;var c,a,u=e.nodeName;if("function"==typeof u)return function(t,e,n,o){for(var r=t&&t._component,i=r,s=t,c=r&&t._componentConstructor===e.nodeName,a=c,u=I(e);r&&!a&&(r=r._parentComponent);)a=r.constructor===e.nodeName;return r&&a&&(!o||r._component)?(j(r,u,f,n,o),t=r.base):(i&&!c&&(U(i),t=s=null),r=R(e.nodeName,u,n),t&&!r.nextBase&&(r.nextBase=t,s=null),j(r,u,p,n,o),t=r.base,s&&t!==s&&(s._component=null,k(s,!1))),t}(t,e,n,o);if(N="svg"===u||"foreignObject"!==u&&N,u=String(u),(!t||!b(t,u))&&(c=u,(a=N?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c)).normalizedNodeName=c,i=a,t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),k(t,!0)}var l=i.firstChild,d=i[h],m=e.children;if(null==d){d=i[h]={};for(var y=i.attributes,v=y.length;v--;)d[y[v].name]=y[v].value}return!A&&m&&1===m.length&&"string"==typeof m[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=m[0]&&(l.nodeValue=m[0]):(m&&m.length||null!=l)&&function(t,e,n,o,r){var i=t.childNodes,s=[],c={},a=0,u=0,l=i.length,p=0,d=e?e.length:0,f=void 0,m=void 0,y=void 0,v=void 0,_=void 0;if(0!==l)for(var b=0;b<l;b++){var I=i[b],S=I[h],C=d&&S?I._component?I._component.__key:S.key:null;null!=C?(a++,c[C]=I):(S||(void 0!==I.splitText?!r||I.nodeValue.trim():r))&&(s[p++]=I)}if(0!==d)for(var P=0;P<d;P++){v=e[P],_=null;var B=v.key;if(null!=B)a&&void 0!==c[B]&&(_=c[B],c[B]=void 0,a--);else if(u<p)for(f=u;f<p;f++)if(void 0!==s[f]&&g(m=s[f],v,r)){_=m,s[f]=void 0,f===p-1&&p--,f===u&&u++;break}_=M(_,v,n,o),y=i[P],_&&_!==t&&_!==y&&(null==y?t.appendChild(_):_===y.nextSibling?E(y):t.insertBefore(_,y))}if(a)for(var N in c)void 0!==c[N]&&k(c[N],!1);for(;u<=p;)void 0!==(_=s[p--])&&k(_,!1)}(i,m,n,o,A||null!=d.dangerouslySetInnerHTML),function(t,e,n){var o=void 0;for(o in n)e&&null!=e[o]||null==n[o]||S(t,o,n[o],n[o]=void 0,N);for(o in e)"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||S(t,o,n[o],n[o]=e[o],N)}(i,e.attributes,d),N=s,i}function k(t,e){var n=t._component;n?U(n):(null!=t[h]&&c(t[h].ref,null),!1!==e&&null!=t[h]||E(t),O(t))}function O(t){for(t=t.lastChild;t;){var e=t.previousSibling;k(t,!0),t=e}}var T=[];function R(t,e,n){var o=void 0,r=T.length;for(t.prototype&&t.prototype.render?(o=new t(e,n),V.call(o,e,n)):((o=new V(e,n)).constructor=t,o.render=H);r--;)if(T[r].constructor===t)return o.nextBase=T[r].nextBase,T.splice(r,1),o;return o}function H(t,e,n){return this.constructor(t,n)}function j(t,e,o,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,o!==l&&(o!==p&&!1===n.syncComponentUpdates&&t.base?v(t):W(t,p,i)),c(t.__ref,t))}function W(t,e,o,r){if(!t._disable){var i=t.props,c=t.state,a=t.context,u=t.prevProps||i,f=t.prevState||c,h=t.prevContext||a,m=t.base,y=t.nextBase,v=m||y,_=t._component,g=!1,b=h,E=void 0,S=void 0,C=void 0;if(t.constructor.getDerivedStateFromProps&&(c=s(s({},c),t.constructor.getDerivedStateFromProps(i,c)),t.state=c),m&&(t.props=u,t.state=f,t.context=h,e!==d&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(i,c,a)?g=!0:t.componentWillUpdate&&t.componentWillUpdate(i,c,a),t.props=i,t.state=c,t.context=a),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!g){E=t.render(i,c,a),t.getChildContext&&(a=s(s({},a),t.getChildContext())),m&&t.getSnapshotBeforeUpdate&&(b=t.getSnapshotBeforeUpdate(u,f));var N=E&&E.nodeName,A=void 0,M=void 0;if("function"==typeof N){var O=I(E);(S=_)&&S.constructor===N&&O.key==S.__key?j(S,O,p,a,!1):(A=S,t._component=S=R(N,O,a),S.nextBase=S.nextBase||y,S._parentComponent=t,j(S,O,l,a,!1),W(S,p,o,!0)),M=S.base}else C=v,(A=_)&&(C=t._component=null),(v||e===p)&&(C&&(C._component=null),M=w(C,E,a,o||!m,v&&v.parentNode,!0));if(v&&M!==v&&S!==_){var T=v.parentNode;T&&M!==T&&(T.replaceChild(M,v),A||(v._component=null,k(v,!1)))}if(A&&U(A),t.base=M,M&&!r){for(var H=t,V=t;V=V._parentComponent;)(H=V).base=M;M._component=H,M._componentConstructor=H.constructor}}for(!m||o?P.push(t):g||(t.componentDidUpdate&&t.componentDidUpdate(u,f,b),n.afterUpdate&&n.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);B||r||x()}}function U(t){n.beforeUnmount&&n.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var o=t._component;o?U(o):e&&(null!=e[h]&&c(e[h].ref,null),t.nextBase=e,E(e),T.push(t),O(e)),c(t.__ref,null)}function V(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function L(t,e,n){return w(n,t,{},!1,e,!1)}function D(){return{}}s(V.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=s(s({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),v(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),W(this,d)},render:function(){}});var J={h:i,createElement:i,cloneElement:u,createRef:D,Component:V,render:L,rerender:_,options:n};t.default=J,t.h=i,t.createElement=i,t.cloneElement=u,t.createRef=D,t.Component=V,t.render=L,t.rerender=_,t.options=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.launchId=t.launchId,this.type=t.type};e.EventArgs=i;var s=function(t){function e(e){var n=t.call(this,e)||this;return n.itemId=e.itemId,n.response=e.response,n}return r(e,t),e}(i);e.SubmitEventArgs=s;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.playerInstance=e.playerInstance,n}return r(e,t),e}(i);e.ReadyEventArgs=c;var a=function(t){function e(e){var n=t.call(this,e)||this;return n.error=e.exception,n}return r(e,t),e}(i);e.ErrorEventArgs=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS={READY:"ready",ERROR:"error",CHECK_ANSWER:"checkAnswer",RETRY:"retry",RESET:"reset",SUBMIT:"submit",HINT_CONSUMED:"hintConsumed"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBarIcons={reset:"reset",checkMyWork:"checkMyWork",tryAgain:"tryAgain",showHint:"showHint",closeHint:"closeHint"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.checkMyWorkBtn=[{id:o.ButtonBarIcons.checkMyWork,tooltip:"Check my work",className:"defaultBtn-check-mywork-icon",text:"Check my work",icon:{iconCls_left:"la la-tick"}},{id:o.ButtonBarIcons.tryAgain,tooltip:"Try Again",className:"defaultBtn-tryAgain",text:"Try again",icon:{iconCls_left:"la la-try-again"}}],e.hintsBtn=[{id:o.ButtonBarIcons.showHint,tooltip:"Hint",className:"defaultBtn-hint-icon",text:"Hint",icon:{iconCls_left:"la la-hintDefault"}},{id:o.ButtonBarIcons.closeHint,tooltip:"Close hint",className:"defaultBtn-hintEnabled-icon",text:"Hint",icon:{iconCls_left:"la la-hintDefault",iconCls_right:"la la-close"}}],e.resetBtn=[{id:o.ButtonBarIcons.reset,tooltip:"Reset",className:"defaultBtn-reset-icon",text:"Reset",icon:{iconCls_left:"la la-reset"}}]},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),s=n(0),c=n(9),a=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.render=function(t,e){try{s.render(s.h(c.SingleItemActivityComponent,{renderItemFuncProp:this.renderItem.bind(this),getItems:this.getItems.bind(this),launchIdProp:t,eventMgrProp:this.eventMgr}),e)}catch(t){this.errorHandler(this.launchId,t)}},e.prototype.focalise=function(){this.getItems()[0].focalise()},e.prototype.destroy=function(){this.getItems()[0].destroy()},e}(i.BaseActivityPlayer);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),r=n(2),i=n(1),s=function(){function t(){this.items=[],this.initializedItems=[]}return t.prototype.init=function(t,e,n){if(this.launchId=t,this.eventMgr=new LeonardoApp.EventEmitter,n&&n.events)for(var s in n.events)this.subscribe(s,n.events[s]);try{for(var c=[],a=this,u=function(r){l.items[r]=new o.ItemApp;var i=l.items[r].init(e[r],t,{events:n.events,uiStyle:n.uiStyle,services:n.services,eventMgr:a.eventMgr});c.push(i),i.then((function(){a.initializedItems[r]=a.items[r]}))},l=this,p=0;p<e.length;p++)u(p);Promise.all(c).then((function(e){if(n&&n.events&&n.events.ready){var o={launchId:t,type:r.EVENTS.READY,playerInstance:a};a.eventMgr.emit(r.EVENTS.READY,new i.ReadyEventArgs(o))}}))}catch(e){this.errorHandler(t,e)}},t.prototype.renderItem=function(t,e,n){var o=this;if(o.initializedItems[t])o.items[t].render(e,n);else var r=setInterval((function(){o.initializedItems[t]&&(clearInterval(r),o.items[t].render(e,n))}),50)},t.prototype.subscribe=function(t,e){this.eventMgr.on(t,e)},t.prototype.unsubscribe=function(t,e){this.eventMgr.off(t,e)},t.prototype.getItemCount=function(){return this.items.length},t.prototype.getItems=function(){return this.items},t.prototype.getCurrentItem=function(){return this.currentItem},t.prototype.getItem=function(t){return this.items[t]},t.prototype.save=function(t){},t.prototype.submit=function(t,e){},t.prototype.retry=function(){},t.prototype.getResponses=function(){return{launchId:"<launchId>",items:[{itemId:"<itemId>",responseId:"<ResponseId>",maxScore:"<item-max-score>",gotScore:"<got-score>",status:"NotAttempted | InProgress | Submitted"}]}},t.prototype.errorHandler=function(t,e){var n={launchId:t,type:r.EVENTS.ERROR,exception:e};this.eventMgr.emit(r.EVENTS.ERROR,new i.ErrorEventArgs(n))},t}();e.BaseActivityPlayer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=function(){function t(){this._initComplete=!1}return t.prototype.init=function(t,e,n){this.launchId=e,this.options=n,this.itemsAPI=LeonardoApp.Services.get("items"),this.attemptsAPI=LeonardoApp.Services.get("attempts"),n&&n.eventMgr&&(this.eventMgr=n.eventMgr);try{var o=this;return new Promise((function(e,n){o.fetchItemJSON(t).then((function(t){o.itemJSON=t;var e=o.getItemType(t);return o.loadItemPlayer(e)})).then((function(t){o.itemPlayer=window[t].init(),o._initComplete=!0,e()}))}))}catch(t){this.errorHandler(e,t)}},t.prototype.render=function(t,e){try{var n={config:this.itemJSON,events:this.options.callbacks,uiStyle:this.options.uiStyle,playerButtons:{visible:!1}},o=this;if(this._initComplete)o.itemPlayer=this.itemPlayer.addWidget("WB2",t,n),e();else var r=setInterval((function(){o._initComplete&&(clearInterval(r),o.itemPlayer=o.itemPlayer.addWidget("WB2",t,n)),e()}),50)}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.fetchItemJSON=function(t){try{var e=this;return new Promise((function(n,o){"object"==typeof t?n(t):"string"==typeof t&&e.itemsAPI.getItem(t).then((function(t){return n(t)}))}))}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.getItemType=function(t){return t.type},t.prototype.loadItemPlayer=function(t){var e=LeonardoApp.ModuleLoader;return new Promise((function(n,o){e&&e.loadItemPlayer&&e.loadItemPlayer(t).then((function(t){return n(t)}))}))},t.prototype.save=function(t){},t.prototype.submit=function(t,e){try{var n=this.itemPlayer.score();this.itemPlayer.displayFeedback(n);var i={id:n.scoringId,launchId:this.launchId,score:[{itemId:this.itemJSON.leonardoId,maxScore:n.scoredJson.score,gotScore:n.scoredJson.gotScore}]};if(t)t(i);else{var s={launchId:this.launchId,type:r.EVENTS.CHECK_ANSWER,itemId:this.itemJSON.leonardoId,response:i};this.eventMgr.emit(1==e.isSubmit?r.EVENTS.SUBMIT:r.EVENTS.CHECK_ANSWER,new o.SubmitEventArgs(s))}}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.getResponse=function(){return{launchId:"<launchId>",items:{itemId:"<itemId>",responseId:"<ResponseId>",maxScore:"<item-max-score>",gotScore:"<got-score>",status:"NotAttempted | InProgress | Submitted"}}},t.prototype.getResponses=function(){return{launchId:"<launchId>",items:[{itemId:"<itemId>",responseId:"<ResponseId>",maxScore:"<item-max-score>",gotScore:"<got-score>",status:"NotAttempted | InProgress | Submitted"}]}},t.prototype.retry=function(t){try{if(this.itemPlayer.clearFeedback(),t)t();else{var e={launchId:this.launchId,type:r.EVENTS.RETRY};this.eventMgr.emit(r.EVENTS.RETRY,new o.EventArgs(e))}}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.reset=function(){try{this.itemPlayer.reset();var t={launchId:this.launchId,type:r.EVENTS.RESET};this.eventMgr.emit(r.EVENTS.RESET,new o.EventArgs(t))}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.showHints=function(){return-1},t.prototype.hideHints=function(){},t.prototype.hasHints=function(){return!0},t.prototype.remainingHints=function(){return 1},t.prototype.subscribe=function(t,e){},t.prototype.unsubscribe=function(t,e){},t.prototype.destroy=function(){try{this.itemPlayer.destroy()}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.focalise=function(){try{this.itemPlayer.focalise()}catch(t){this.errorHandler(this.launchId,t)}},t.prototype.hide=function(){},t.prototype.show=function(){},t.prototype.errorHandler=function(t,e){var n={launchId:t,type:r.EVENTS.ERROR,exception:e};this.eventMgr.emit(r.EVENTS.ERROR,new o.ErrorEventArgs(n))},t}();e.ItemApp=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=n(10),c=n(3),a=n(4);n(12),n(13);var u=n(14),l=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultButtonsArray=a.checkMyWorkBtn.concat(a.resetBtn),n.hiddenButtons=[c.ButtonBarIcons.tryAgain],n.state={isTryAgainEnabled:!1,isHintsAvailable:!1},n._item=n.props.getItems()[0],n}return r(e,t),e.prototype.render=function(t,e){return i.h("div",{class:"activity-player-container"},i.h(s.ItemPlayerComponent,{item:this._item,renderItemFuncProp:t.renderItemFuncProp,setState:this.setState.bind(this)}),i.h(u.ButtonBarComponent,{item:this._item,eventMgrProp:t.eventMgrProp,launchIdProp:t.launchIdProp}))},e}(i.Component);e.SingleItemActivityComponent=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n(11);var s=function(t){function e(e){var n=t.call(this,e)||this;return n._item=n.props.item,n}return r(e,t),e.prototype.componentWillUnmount=function(){console.log("componentWillUnmount")},e.prototype.componentWillUpdate=function(){console.log("componentWillUpdate")},e.prototype.componentDidUpdate=function(){console.log("componentDidUpdate")},e.prototype.componentDidMount=function(){var t=this;console.log("componentDidMount"),this.props.renderItemFuncProp(0,this.base,(function(){t.base.classList.remove("item-loader");var e=t;setTimeout((function(){e.props.item.focalise()}),2e3)}))},e.prototype.render=function(){return i.h("div",{class:"item-player item-loader"})},e}(i.Component);e.ItemPlayerComponent=s},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=n(15),c=n(3),a=n(4),u=n(2),l=n(1),p=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultButtonsArray=a.checkMyWorkBtn.concat(a.resetBtn),n.state={isTryAgainEnabled:!1},n._item=n.props.item,n.eventMgr=n.props.eventMgrProp,n.launchId=n.props.launchIdProp,n}return r(e,t),e.prototype.createButtonJSX=function(t){return console.log(t),i.h(s.ButtonComponent,{id:t.id,leftIcon:t.icon?t.icon.iconCls_left:null,rightIcon:t.icon?t.icon.iconCls_right:null,label:t.text,tooltip:t.tooltip,onButtonClick:this.onClick.bind(this)})},e.prototype.createButtons=function(){var t=this,e=this.state.isTryAgainEnabled?c.ButtonBarIcons.checkMyWork:c.ButtonBarIcons.tryAgain,n=[],o=e.length>0?this.removeHiddenButtons(e):this.defaultButtonsArray;return console.log(o),o.map((function(e,r){n.push(t.createButtonJSX(e),r<o.length-1?i.h("div",{class:"vertical-seperator"}):null)})),n},e.prototype.onClick=function(t){var e=this,n=t.currentTarget.getAttribute("id");switch(c.ButtonBarIcons[n]){case c.ButtonBarIcons.checkMyWork:this._item.submit((function(t){if(t){var n={launchId:e.launchId,type:u.EVENTS.CHECK_ANSWER,itemId:e._item.leonardoId,response:t};e.eventMgr.emit(u.EVENTS.CHECK_ANSWER,new l.SubmitEventArgs(n))}e.setState({isTryAgainEnabled:!0})}),"");break;case c.ButtonBarIcons.reset:this._item.reset(),this.setState({isTryAgainEnabled:!1});break;case c.ButtonBarIcons.tryAgain:this._item.retry((function(t){if(t){var n={launchId:e.launchId,type:u.EVENTS.RETRY};e.eventMgr.emit(u.EVENTS.RETRY,new l.EventArgs(n))}e.setState({isTryAgainEnabled:!1})}));break;case c.ButtonBarIcons.showHint:case c.ButtonBarIcons.closeHint:}},e.prototype.removeHiddenButtons=function(t){return this.defaultButtonsArray.filter((function(e){return-1==t.indexOf(e.id)}))},e.prototype.render=function(){return i.h("div",{class:"buttons-container"},this.createButtons())},e}(i.Component);e.ButtonBarComponent=p},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n(16);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t,e){return i.h("div",{id:t.id,class:"defaultBtn "+t.leftIcon,title:t.tooltip,onClick:function(e){return t.onButtonClick(e)}},i.h("span",{class:"defaultBtnLabel"}," ",t.label," "),t.rightIcon&&i.h("span",{class:t.rightIcon}))},e}(i.Component);e.ButtonComponent=s},function(t,e,n){}]).default}));
//# sourceMappingURL=singleItemActivityPlayer.js.map