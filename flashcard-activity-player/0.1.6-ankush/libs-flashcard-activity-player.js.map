{"version":3,"sources":["webpack://libs-flashcard-activity-player/webpack/universalModuleDefinition","webpack://libs-flashcard-activity-player/webpack/bootstrap","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/EventManager/event-args.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/EventManager/event.enum.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/activity-state-service.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/base-activity-player.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/enums/enums.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/item-app.ts","webpack://libs-flashcard-activity-player/./node_modules/libs-base-activity-player/src/utilities/utils.ts","webpack://libs-flashcard-activity-player/./src/components/activity-player/flashcard-activity.component.tsx","webpack://libs-flashcard-activity-player/./src/components/item-player/item-container.component.tsx","webpack://libs-flashcard-activity-player/./src/components/stackedCard/stackCard.ts","webpack://libs-flashcard-activity-player/./src/components/stackedCard/style/index.less?00a4","webpack://libs-flashcard-activity-player/./src/container/flashcard-activity-container.tsx","webpack://libs-flashcard-activity-player/./src/container/styles/index.less?a76d","webpack://libs-flashcard-activity-player/./src/utils/enums.ts","webpack://libs-flashcard-activity-player/external \"react\"","webpack://libs-flashcard-activity-player/external \"react-dom\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACtFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,kFAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AChJY;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4EAAY;AACrC,mBAAmB,mBAAO,CAAC,0GAA2B;AACtD,kCAAkC,mBAAO,CAAC,0GAA2B;AACrE,+BAA+B,mBAAO,CAAC,wGAA0B;AACjE,cAAc,mBAAO,CAAC,kFAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,2CAA2C;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,6DAA6D;AACrJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1aa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,iDAAiD;AAClD;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE;AACA;AACA;AACA;AACA;AACA,CAAC,+EAA+E;;;;;;;;;;;;;ACxBnE;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,0GAA2B;AACtD,mBAAmB,mBAAO,CAAC,0GAA2B;AACtD,cAAc,mBAAO,CAAC,0FAAmB;AACzC,cAAc,mBAAO,CAAC,kFAAe;AACrC;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,2BAA2B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB,EAAE;AAC/D,+CAA+C,0BAA0B,EAAE;AAC3E;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,wBAAwB,EAAE;AACvE;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE,wEAAwE;AACxE;AACA,CAAC;AACD;;;;;;;;;;;;;AC7Xa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,2BAA2B,mBAAO,CAAC,oBAAO;AAC1C,iCAAiC,mBAAO,CAAC,0GAAyC;AAClF,cAAc,mBAAO,CAAC,+CAAmB;AACzC,kBAAkB,mBAAO,CAAC,4BAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,OAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,wFAAwF;AAC9I,8FAA8F,kCAAkC;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AChKa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,2BAA2B,mBAAO,CAAC,oBAAO;AAC1C,cAAc,mBAAO,CAAC,+CAAmB;AACzC,kCAAkC,mBAAO,CAAC,2EAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,qCAAqC;AAC3F,kDAAkD,kEAAkE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjHa;AACb;AACA,8CAA8C,cAAc;AAC5D,mBAAO,CAAC,yEAAoB;AAC5B;AACA;AACA,uCAAuC;AACvC,2BAA2B;AAC3B,uBAAuB;AACvB,gCAAgC;AAChC,iCAAiC;AACjC,iCAAiC;AACjC,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4E;AACA;AACA;AACA,+G;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,yDAAyD;AACzD,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,2CAA2C;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4KAA4K;AAC5K;AACA,mIAAmI;AACnI,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,gJAAgJ;AAChJ,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,0IAA0I;AAC1I,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;AC3qBA,uC;;;;;;;;;;;;ACAa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,6BAA6B,mBAAO,CAAC,gIAAoD;AACzF,qCAAqC,mBAAO,CAAC,qIAA4D;AACzG,cAAc,mBAAO,CAAC,4CAAgB;AACtC,kBAAkB,mBAAO,CAAC,4BAAW;AACrC,8BAA8B,mBAAO,CAAC,oBAAO;AAC7C,mBAAO,CAAC,8DAAqB;AAC7B,cAAc,mBAAO,CAAC,8GAA2C;AACjE,mBAAmB,mBAAO,CAAC,sIAAuD;AAClF,mBAAmB,mBAAO,CAAC,sIAAuD;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yHAAyH,wHAAwH;AACjP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wCAAwC;AAC/D;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;AC3OA,uC;;;;;;;;;;;;ACAa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACXA,mD;;;;;;;;;;;ACAA,uD","file":"libs-flashcard-activity-player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"libs-flashcard-activity-player\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"libs-flashcard-activity-player\"] = factory(root[\"react\"], root[\"react-dom\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventArgs = /** @class */ (function () {\r\n    function EventArgs(args) {\r\n        this.launchId = args.launchId;\r\n        this.type = args.type;\r\n    }\r\n    return EventArgs;\r\n}());\r\nexports.EventArgs = EventArgs;\r\nvar SubmitEventArgs = /** @class */ (function (_super) {\r\n    __extends(SubmitEventArgs, _super);\r\n    function SubmitEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        _this.response = args.response;\r\n        return _this;\r\n    }\r\n    return SubmitEventArgs;\r\n}(EventArgs));\r\nexports.SubmitEventArgs = SubmitEventArgs;\r\nvar ReadyEventArgs = /** @class */ (function (_super) {\r\n    __extends(ReadyEventArgs, _super);\r\n    function ReadyEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        //Item Id for which this event has been triggered.\r\n        _this.itemId = '';\r\n        _this.playerInstance = args.playerInstance;\r\n        return _this;\r\n    }\r\n    return ReadyEventArgs;\r\n}(EventArgs));\r\nexports.ReadyEventArgs = ReadyEventArgs;\r\nvar ErrorEventArgs = /** @class */ (function (_super) {\r\n    __extends(ErrorEventArgs, _super);\r\n    function ErrorEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        _this.error = args.exception;\r\n        return _this;\r\n    }\r\n    return ErrorEventArgs;\r\n}(EventArgs));\r\nexports.ErrorEventArgs = ErrorEventArgs;\r\nvar InteractedEventArgs = /** @class */ (function (_super) {\r\n    __extends(InteractedEventArgs, _super);\r\n    function InteractedEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        _this.itemId = args.itemId;\r\n        _this.itemPayload = args.itemPayload;\r\n        return _this;\r\n    }\r\n    return InteractedEventArgs;\r\n}(EventArgs));\r\nexports.InteractedEventArgs = InteractedEventArgs;\r\nvar NavigationEventArgs = /** @class */ (function (_super) {\r\n    __extends(NavigationEventArgs, _super);\r\n    function NavigationEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        _this.previousItem = args.previousItem;\r\n        _this.currentItem = args.currentItem;\r\n        return _this;\r\n    }\r\n    return NavigationEventArgs;\r\n}(EventArgs));\r\nexports.NavigationEventArgs = NavigationEventArgs;\r\nvar SizeEventArgs = /** @class */ (function (_super) {\r\n    __extends(SizeEventArgs, _super);\r\n    function SizeEventArgs(args) {\r\n        var _this = _super.call(this, args) || this;\r\n        _this.size = args.size;\r\n        return _this;\r\n    }\r\n    return SizeEventArgs;\r\n}(EventArgs));\r\nexports.SizeEventArgs = SizeEventArgs;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENTS = {\r\n    ERROR: \"error\",\r\n    INTERACTED: \"interacted\",\r\n    LAUNCHED: \"launched\",\r\n    SIZE: \"size\",\r\n    READY: \"ready\",\r\n    CHECK_ANSWER: \"checkAnswer\",\r\n    RETRY: \"retry\",\r\n    RESET: \"reset\",\r\n    SUBMIT: \"submit\",\r\n    HINT_CONSUMED: \"hintConsumed\",\r\n    DESTROY: \"destroy\",\r\n    ITEM_NAVIGATION: \"itemNavigation\",\r\n    CHANGE: \"change\"\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar enums_1 = require(\"./enums/enums\");\r\nvar ActivityStateService = /** @class */ (function () {\r\n    function ActivityStateService(activityJson) {\r\n        this.type = activityJson.type;\r\n        this.subType = activityJson.subType;\r\n        this.itemId = activityJson.itemId;\r\n        this.itemMeta = new ItemMeta(activityJson.itemMeta);\r\n        this.itemFragments = {};\r\n        for (var itemFragment in activityJson.itemFragments) {\r\n            this.itemFragments[itemFragment] = new ItemFragment(activityJson.itemFragments[itemFragment]);\r\n        }\r\n    }\r\n    ActivityStateService.prototype.setActivityState = function (activityState) {\r\n        if (activityState.itemId != this.itemId) {\r\n            throw new Error(\"The given state doesn't belong to this activity. Please pass correct state.\");\r\n        }\r\n        else if (this.itemMeta.getStatus() != enums_1.Status.COMPLETED) {\r\n            if (activityState.itemMeta) {\r\n                activityState.itemMeta.status ? this.itemMeta.setStatus(activityState.itemMeta.status) : null;\r\n                activityState.itemMeta.selectedItemIndex ? this.itemMeta.setSelectedItemIndex(activityState.itemMeta.selectedItemIndex) : null;\r\n            }\r\n            if (activityState.itemFragments) {\r\n                for (var itemFragment in activityState.itemFragments) {\r\n                    if (this.itemFragments[itemFragment]) {\r\n                        this.itemFragments[itemFragment].setState(activityState.itemFragments[itemFragment]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ActivityStateService.prototype.getActivityState = function () {\r\n        return this;\r\n    };\r\n    ActivityStateService.prototype.setSelectedItemIndex = function (index) {\r\n        this.itemMeta.setSelectedItemIndex(index);\r\n    };\r\n    ActivityStateService.prototype.getSelectedItemIndex = function () {\r\n        return this.itemMeta.getSelectedItemIndex();\r\n    };\r\n    ActivityStateService.prototype.setActivityScore = function (score) {\r\n        this.itemMeta.setScore(score);\r\n        this.itemMeta.setStatus(enums_1.Status.COMPLETED);\r\n    };\r\n    ActivityStateService.prototype.getActivityScore = function () {\r\n        return this.itemMeta.getScore();\r\n    };\r\n    ActivityStateService.prototype.getActivityStatus = function () {\r\n        return this.itemMeta.getStatus();\r\n    };\r\n    ActivityStateService.prototype.setItemScore = function (itemFragmentId, itemScore) {\r\n        if (this.checkItemUpdationStatus(itemFragmentId)) {\r\n            this.itemFragments[itemFragmentId].setItemScore(itemScore);\r\n        }\r\n    };\r\n    ActivityStateService.prototype.getItemScore = function (itemFragmentId) {\r\n        return this.itemFragments[itemFragmentId].getItemScore();\r\n    };\r\n    ActivityStateService.prototype.setItemStatus = function (itemFragmentId, itemStatus) {\r\n        if (this.getActivityStatus() != enums_1.Status.COMPLETED && this.itemFragments[itemFragmentId]) {\r\n            this.itemFragments[itemFragmentId].setItemStatus(itemStatus);\r\n        }\r\n    };\r\n    ActivityStateService.prototype.getItemStatus = function (itemFragmentId) {\r\n        return this.itemFragments[itemFragmentId].getItemStatus();\r\n    };\r\n    ActivityStateService.prototype.setItemState = function (itemFragmentId, itemState) {\r\n        if (this.checkItemUpdationStatus(itemFragmentId)) {\r\n            this.itemFragments[itemFragmentId].setItemState(itemState);\r\n            this.itemFragments[itemFragmentId].setItemStatus(enums_1.Status.INPROGRESS);\r\n        }\r\n    };\r\n    ActivityStateService.prototype.getItemState = function (itemFragmentId) {\r\n        return this.itemFragments[itemFragmentId].getItemState();\r\n    };\r\n    ActivityStateService.prototype.checkItemUpdationStatus = function (itemFragmentId) {\r\n        return (this.getActivityStatus() != enums_1.Status.COMPLETED && this.itemFragments[itemFragmentId] != null\r\n            && this.itemFragments[itemFragmentId].getItemStatus() != enums_1.Status.COMPLETED);\r\n    };\r\n    return ActivityStateService;\r\n}());\r\nexports.ActivityStateService = ActivityStateService;\r\nvar ItemMeta = /** @class */ (function () {\r\n    function ItemMeta(itemMeta) {\r\n        this.score = itemMeta.score;\r\n        this.selectedItemIndex = itemMeta.selectedItemIndex || 0;\r\n        this.status = itemMeta.status || enums_1.Status.INPROGRESS;\r\n    }\r\n    ItemMeta.prototype.setState = function (itemMeta) {\r\n        itemMeta.score ? this.score = itemMeta.score : null;\r\n        itemMeta.selectedItemIndex ? this.selectedItemIndex = itemMeta.selectedItemIndex : null;\r\n        itemMeta.status ? this.status = itemMeta.status : null;\r\n    };\r\n    ItemMeta.prototype.setScore = function (score) {\r\n        this.score = score;\r\n    };\r\n    ItemMeta.prototype.getScore = function () {\r\n        return this.score;\r\n    };\r\n    ItemMeta.prototype.setSelectedItemIndex = function (selectedItemIndex) {\r\n        this.selectedItemIndex = selectedItemIndex;\r\n    };\r\n    ItemMeta.prototype.getSelectedItemIndex = function () {\r\n        return this.selectedItemIndex;\r\n    };\r\n    ItemMeta.prototype.setStatus = function (status) {\r\n        this.status = status;\r\n    };\r\n    ItemMeta.prototype.getStatus = function () {\r\n        return this.status;\r\n    };\r\n    return ItemMeta;\r\n}());\r\nvar ItemFragment = /** @class */ (function () {\r\n    function ItemFragment(itemFragment) {\r\n        this.state = itemFragment.state;\r\n        this.status = itemFragment.status || enums_1.Status.NOTSTARTED;\r\n        this.score = itemFragment.score;\r\n    }\r\n    ItemFragment.prototype.setState = function (itemFragment) {\r\n        itemFragment.state ? this.state = itemFragment.state : null;\r\n        itemFragment.status ? this.status = itemFragment.status : null;\r\n        itemFragment.score ? this.score = itemFragment.score : null;\r\n    };\r\n    ItemFragment.prototype.setItemState = function (state) {\r\n        this.state = state;\r\n    };\r\n    ItemFragment.prototype.getItemState = function () {\r\n        return this.state;\r\n    };\r\n    ItemFragment.prototype.setItemStatus = function (status) {\r\n        this.status = status;\r\n    };\r\n    ItemFragment.prototype.getItemStatus = function () {\r\n        return this.status;\r\n    };\r\n    ItemFragment.prototype.setItemScore = function (score) {\r\n        this.score = score;\r\n    };\r\n    ItemFragment.prototype.getItemScore = function () {\r\n        return this.score;\r\n    };\r\n    return ItemFragment;\r\n}());\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar item_app_1 = require(\"./item-app\");\r\nvar event_enum_1 = require(\"./EventManager/event.enum\");\r\nvar EventArguments = __importStar(require(\"./EventManager/event-args\"));\r\nvar activity_state_service_1 = require(\"./activity-state-service\");\r\nvar enums_1 = require(\"./enums/enums\");\r\nvar BaseActivityPlayer = /** @class */ (function () {\r\n    function BaseActivityPlayer() {\r\n        this.items = [];\r\n        // An Id to uniquely identify a particular launch of Item.\r\n        this.launchId = '';\r\n        this.container = null;\r\n        // Creating an instance of Event Manager to be used inside Activity Player\r\n        this.eventMgr = new LeonardoApp.EventEmitter;\r\n        this.manageActivityState = true;\r\n        this.firstItemIndexToLaunch = 0;\r\n    }\r\n    /**\r\n     *\r\n     * allowed init params are ( launchId, items [, container] [, options] )\r\n     * container and options are optional params\r\n     * @param launchId\r\n     * @param items\r\n     * @param args1\r\n     * @param args2\r\n     * options: http://jsoneditoronline.org/?id=041bd0acb8ff4fa49dbe0c2c45bb0d78\r\n     */\r\n    BaseActivityPlayer.prototype.init = function (launchId, activityJson, args1, args2) {\r\n        var _this = this;\r\n        this.launchId = launchId;\r\n        this.activityJson = activityJson;\r\n        if (this.manageActivityState) {\r\n            /** Later on, at the time of creating instance of ActivityStateService itemFragments will not be initialized.\r\n             *  Base Activity Player will iterate over item Fragments and setState of ItemFragments so that itemFragments\r\n             *  will only contains the state of the items which are actually required.\r\n             */\r\n            this.activityStateService = new activity_state_service_1.ActivityStateService(activityJson);\r\n        }\r\n        if (args2) {\r\n            this.container = args1;\r\n            this.options = args2;\r\n        }\r\n        else {\r\n            if (args1 instanceof HTMLElement) {\r\n                this.container = args1;\r\n            }\r\n            else {\r\n                this.options = args1;\r\n            }\r\n        }\r\n        if (this.options && this.options.state) {\r\n            this.setState(this.options.state);\r\n        }\r\n        this.firstItemIndexToLaunch = this.getFirstItemToLaunch();\r\n        // Subscribing to events handler provided by the Consumer App.\r\n        if (this.options && this.options.events) {\r\n            for (var event_1 in this.options.events) {\r\n                this.subscribe(event_1, this.options.events[event_1]);\r\n            }\r\n        }\r\n        var events = this.getItemEvents();\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var self_1 = _this;\r\n                var uiStyles = _this.options && _this.options.playerConfig && _this.options.playerConfig.uiStyles ? _this.options.playerConfig.uiStyles : null;\r\n                if (activityJson) {\r\n                    self_1.initItem(self_1.firstItemIndexToLaunch, activityJson, events, uiStyles).then(function () {\r\n                        self_1.currentItem = self_1.items[self_1.firstItemIndexToLaunch];\r\n                        resolve(self_1);\r\n                    }).catch(function () {\r\n                        var err = new Error('Invalid Item Json');\r\n                        self_1.onErrorHandler(launchId, err);\r\n                        reject(err);\r\n                    });\r\n                    self_1.initUnselectedItems(self_1.firstItemIndexToLaunch, activityJson, events, uiStyles);\r\n                }\r\n                else {\r\n                    var err = new Error('Invalid Activity Json');\r\n                    _this.onErrorHandler(launchId, err);\r\n                    reject(err);\r\n                }\r\n            }\r\n            catch (exception) {\r\n                _this.onErrorHandler(launchId, exception);\r\n            }\r\n        });\r\n    };\r\n    ;\r\n    BaseActivityPlayer.prototype.destroy = function () {\r\n        var destroyEventArgs = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.DESTROY\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.DESTROY, new EventArguments.EventArgs(destroyEventArgs));\r\n    };\r\n    ;\r\n    BaseActivityPlayer.prototype.subscribe = function (eventName, eventHandler) {\r\n        // Register an event handler fn.\r\n        this.eventMgr.on(eventName, eventHandler);\r\n    };\r\n    BaseActivityPlayer.prototype.unsubscribe = function (eventName, eventHandler) {\r\n        // Remove an event listener.\r\n        this.eventMgr.off(eventName, eventHandler);\r\n    };\r\n    BaseActivityPlayer.prototype.getItems = function () {\r\n        // returns array of itemApp instances\r\n        return this.items;\r\n    };\r\n    BaseActivityPlayer.prototype.getCurrentItem = function () {\r\n        // return currentItem;\r\n        return this.currentItem;\r\n    };\r\n    BaseActivityPlayer.prototype.getCurrentItemIndex = function () {\r\n        return this.currentItem.index;\r\n    };\r\n    BaseActivityPlayer.prototype.getItem = function (itemIndex) {\r\n        // returns the item object for given itemIndex\r\n        // Returns Item Object\r\n        return this.items[itemIndex];\r\n    };\r\n    BaseActivityPlayer.prototype.reset = function () {\r\n        this.currentItem.reset();\r\n        if (this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.activityStateService.setItemStatus(itemFragmentId, enums_1.Status.INPROGRESS);\r\n            this.updateCurrentItemState();\r\n        }\r\n        var eventArgs = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.RESET\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.RESET, new EventArguments.EventArgs(eventArgs));\r\n    };\r\n    BaseActivityPlayer.prototype.save = function (callback) {\r\n        // todo: saves user response to the Attempts Service\r\n        // loop on _itmes        \r\n        // call _item.save();\r\n        // end loop\r\n    };\r\n    BaseActivityPlayer.prototype.submit = function (callback, options) {\r\n        if (this.manageActivityState) {\r\n            //Submit all the items if not submitted already\r\n            var itemCount = this.getItemCount();\r\n            for (var idx = 0; idx < itemCount; idx++) {\r\n                var itemFragmentId = this.getFragmentIdFromIndex(idx);\r\n                if (this.activityStateService.getItemStatus(itemFragmentId) != enums_1.Status.COMPLETED) {\r\n                    var score = void 0;\r\n                    if (this.items[idx]) {\r\n                        var item = this.items[idx];\r\n                        score = item.getScore();\r\n                        this.activityStateService.setItemState(itemFragmentId, item.getState());\r\n                    }\r\n                    if (!score) {\r\n                        score = this.getItemDefaultScore(idx);\r\n                    }\r\n                    this.activityStateService.setItemScore(itemFragmentId, score);\r\n                    this.activityStateService.setItemStatus(itemFragmentId, enums_1.Status.COMPLETED);\r\n                }\r\n            }\r\n        }\r\n        this.submitActivity(callback);\r\n    };\r\n    BaseActivityPlayer.prototype.checkAnswer = function (callback, options) {\r\n        var response = this.getCurrentItem().submit();\r\n        if (response && this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.updateCurrentItemState();\r\n            this.activityStateService.setItemStatus(itemFragmentId, enums_1.Status.COMPLETED);\r\n        }\r\n        var checkAnswerPayload = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.CHECK_ANSWER,\r\n            status: response ? 'success' : 'error'\r\n        };\r\n        response ? checkAnswerPayload[\"response\"] = { score: this.currentItem.getScore().score } : null;\r\n        if (callback) {\r\n            callback(checkAnswerPayload);\r\n        }\r\n        else {\r\n            this.eventMgr.emit(event_enum_1.EVENTS.CHECK_ANSWER, new EventArguments.SubmitEventArgs(checkAnswerPayload));\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.retry = function (callback) {\r\n        if (this.manageActivityState) {\r\n            // Updating the Question State before calling the retry method as Item Player might provide a new state\r\n            // from retry method which will be ingored by Activity State Service, if the Item's Status is completed.        \r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.activityStateService.setItemStatus(itemFragmentId, enums_1.Status.INPROGRESS);\r\n        }\r\n        this.getCurrentItem().retry();\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        else {\r\n            var eventArgs = {\r\n                launchId: this.launchId,\r\n                type: event_enum_1.EVENTS.RETRY\r\n            };\r\n            this.eventMgr.emit(event_enum_1.EVENTS.RETRY, new EventArguments.EventArgs(eventArgs));\r\n        }\r\n        // launch new attempt\r\n    };\r\n    BaseActivityPlayer.prototype.getResponse = function () {\r\n        if (this.manageActivityState) {\r\n            var activityScore = {\r\n                min: 0,\r\n                max: 0,\r\n                raw: 0,\r\n                scaled: 0\r\n            };\r\n            var itemCount = this.getItemCount();\r\n            for (var idx = 0; idx < itemCount; idx++) {\r\n                var itemScore = this.activityStateService.getItemScore(this.getFragmentIdFromIndex(idx));\r\n                if (!itemScore) {\r\n                    var itemFragmentId = this.getFragmentIdFromIndex(idx);\r\n                    itemScore = this.getItemDefaultScore(idx);\r\n                    this.activityStateService.setItemScore(itemFragmentId, itemScore);\r\n                }\r\n                activityScore.min += itemScore.score.min / itemScore.score.max;\r\n                activityScore.raw += itemScore.score.scaled;\r\n            }\r\n            activityScore.max = itemCount;\r\n            activityScore.scaled = activityScore.raw / activityScore.max;\r\n            return activityScore;\r\n        }\r\n        else {\r\n            return {\r\n                min: 0,\r\n                max: this.getItemCount(),\r\n                raw: 0,\r\n                scaled: 0\r\n            };\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.getState = function () {\r\n        if (this.manageActivityState) {\r\n            return JSON.parse(JSON.stringify(this.activityStateService.getActivityState()));\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.setState = function (state) {\r\n        if (this.manageActivityState) {\r\n            this.activityStateService.setActivityState(state);\r\n            var itemCount = this.getItemCount();\r\n            for (var idx = 0; idx < itemCount; idx++) {\r\n                if (this.items[idx]) {\r\n                    var questionState = this.activityStateService.getItemState(this.getFragmentIdFromIndex(idx));\r\n                    var launchMode = this.isReviewMode() ? enums_1.LaunchModes.REVIEW : enums_1.LaunchModes.ATTEMPT;\r\n                    this.items[idx].setState(questionState, launchMode);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.getCurrentItemStatus = function () {\r\n        var status = enums_1.Status.NOTSTARTED;\r\n        if (this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            status = this.activityStateService.getItemStatus(itemFragmentId);\r\n        }\r\n        return status;\r\n    };\r\n    BaseActivityPlayer.prototype.destroyItems = function () {\r\n        this.items.forEach(function (item) {\r\n            item.destroy();\r\n        });\r\n        delete this.currentItem;\r\n        this.items = [];\r\n    };\r\n    BaseActivityPlayer.prototype.updateCurrentItemState = function () {\r\n        if (this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.activityStateService.setItemState(itemFragmentId, this.getCurrentItem().getState());\r\n            this.activityStateService.setItemScore(itemFragmentId, this.getCurrentItem().getScore());\r\n        }\r\n    };\r\n    // Error Handler to emit all error events from single point.\r\n    BaseActivityPlayer.prototype.onErrorHandler = function (launchId, exception) {\r\n        var errorEventArgs = {\r\n            launchId: launchId,\r\n            type: event_enum_1.EVENTS.ERROR,\r\n            exception: exception\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.ERROR, new EventArguments.ErrorEventArgs(errorEventArgs));\r\n    };\r\n    BaseActivityPlayer.prototype.onInteractedHandler = function (payload) {\r\n        if (this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.activityStateService.setItemState(itemFragmentId, payload.state);\r\n        }\r\n        var interactedEventArgs = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.CHANGE,\r\n            state: this.getState()\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.CHANGE, new EventArguments.InteractedEventArgs(interactedEventArgs));\r\n    };\r\n    BaseActivityPlayer.prototype.onSizeHandler = function (payload) {\r\n        var sizeEventArgs = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.INTERACTED,\r\n            size: payload.size\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.SIZE, new EventArguments.SizeEventArgs(sizeEventArgs));\r\n    };\r\n    BaseActivityPlayer.prototype.onRedoHandler = function (payload) {\r\n        if (this.manageActivityState) {\r\n            var itemFragmentId = this.getFragmentIdFromIndex(this.getCurrentItemIndex());\r\n            this.activityStateService.setItemState(itemFragmentId, this.currentItem.getState());\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    BaseActivityPlayer.prototype.getItemEvents = function () {\r\n        return {\r\n            interacted: this.onInteractedHandler.bind(this),\r\n            size: this.onSizeHandler.bind(this),\r\n            error: this.onErrorHandler.bind(this),\r\n            redo: this.onRedoHandler.bind(this)\r\n        };\r\n    };\r\n    BaseActivityPlayer.prototype.getItemState = function (itemIndex) {\r\n        var state = null;\r\n        if (this.manageActivityState) {\r\n            var fragID = this.getFragmentIdFromIndex(itemIndex);\r\n            state = this.activityStateService.getItemState(fragID);\r\n        }\r\n        return state;\r\n    };\r\n    BaseActivityPlayer.prototype.displayHints = function () {\r\n        return this.getCurrentItem().showHints();\r\n    };\r\n    // setter function to update currentItem property.\r\n    BaseActivityPlayer.prototype.setCurrentItem = function (item) {\r\n        this.currentItem = item;\r\n        this.manageActivityState && this.activityStateService.setSelectedItemIndex(item.index);\r\n    };\r\n    // init one itemApp for each item\r\n    BaseActivityPlayer.prototype.initUnselectedItems = function (selectedItemIndex, activityJson, events, uiStyles) {\r\n        var itemCount = this.getItemCount();\r\n        for (var idx = 0; idx < itemCount; idx++) {\r\n            if (idx != selectedItemIndex) {\r\n                this.initItem(idx, activityJson, events, uiStyles);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param itemIndex\r\n     * @param activityJson\r\n     * @param events\r\n     * @param uiStyles\r\n     */\r\n    BaseActivityPlayer.prototype.initItem = function (itemIndex, activityJson, events, uiStyles) {\r\n        var itemApp = new item_app_1.ItemApp();\r\n        var launchMode = this.isReviewMode() ? enums_1.LaunchModes.REVIEW : enums_1.LaunchModes.ATTEMPT;\r\n        itemApp.setState(this.getItemState(itemIndex), launchMode);\r\n        var itemFragID = this.getFragmentIdFromIndex(itemIndex);\r\n        var itemFragment = activityJson.itemFragments[itemFragID];\r\n        this.items[itemIndex] = itemApp;\r\n        return itemApp.init(itemFragID, itemIndex, itemFragment.itemId, this.launchId, { events: events, uiStyle: uiStyles, eventMgr: this.eventMgr });\r\n    };\r\n    /**\r\n     *\r\n     * @param callback\r\n     */\r\n    BaseActivityPlayer.prototype.submitActivity = function (callback) {\r\n        var activityScore = this.getResponse();\r\n        this.manageActivityState && this.activityStateService.setActivityScore(activityScore);\r\n        var submitPayload = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.SUBMIT,\r\n            response: {\r\n                score: activityScore\r\n            }\r\n        };\r\n        if (callback) {\r\n            callback(submitPayload);\r\n        }\r\n        else {\r\n            this.eventMgr.emit(event_enum_1.EVENTS.SUBMIT, new EventArguments.SubmitEventArgs(submitPayload));\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param activityJson\r\n     * Returns the index of the first item to be launched\r\n     */\r\n    BaseActivityPlayer.prototype.getFirstItemToLaunch = function () {\r\n        if (this.manageActivityState) {\r\n            if (this.isReviewMode()) {\r\n                return 0;\r\n            }\r\n            return this.activityStateService.getSelectedItemIndex();\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.isReviewMode = function () {\r\n        if (this.manageActivityState && this.activityStateService.getActivityStatus() == enums_1.Status.COMPLETED) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    BaseActivityPlayer.prototype.getFragmentIdFromIndex = function (itemIndex) {\r\n        var retValue = \"\";\r\n        if (this.items[itemIndex]) {\r\n            retValue = this.items[itemIndex].uid;\r\n        }\r\n        else {\r\n            retValue = this.getItemFragmentIdFromItemIndex(itemIndex);\r\n        }\r\n        return retValue;\r\n    };\r\n    return BaseActivityPlayer;\r\n}());\r\nexports.BaseActivityPlayer = BaseActivityPlayer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Status;\r\n(function (Status) {\r\n    Status[\"NOTSTARTED\"] = \"NotStarted\";\r\n    Status[\"INPROGRESS\"] = \"InProgress\";\r\n    Status[\"COMPLETED\"] = \"Completed\";\r\n})(Status = exports.Status || (exports.Status = {}));\r\nvar LaunchModes;\r\n(function (LaunchModes) {\r\n    LaunchModes[\"ATTEMPT\"] = \"attempt\";\r\n    LaunchModes[\"REVIEW\"] = \"review\";\r\n})(LaunchModes = exports.LaunchModes || (exports.LaunchModes = {}));\r\nvar ScoreStatus;\r\n(function (ScoreStatus) {\r\n    ScoreStatus[\"CORRECT\"] = \"correct\";\r\n    ScoreStatus[\"INCORRECT\"] = \"incorrect\";\r\n    ScoreStatus[\"PARTIALLY_CORRECT\"] = \"partiallyCorrect\";\r\n})(ScoreStatus = exports.ScoreStatus || (exports.ScoreStatus = {}));\r\nvar CompletionStatus;\r\n(function (CompletionStatus) {\r\n    CompletionStatus[\"COMPLETE\"] = \"complete\";\r\n    CompletionStatus[\"INCOMPLETE\"] = \"incomplete\";\r\n    CompletionStatus[\"NOT_ATTEMPTED\"] = \"notAttempted\";\r\n})(CompletionStatus = exports.CompletionStatus || (exports.CompletionStatus = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar event_args_1 = require(\"./EventManager/event-args\");\r\nvar event_enum_1 = require(\"./EventManager/event.enum\");\r\nvar utils_1 = require(\"./utilities/utils\");\r\nvar enums_1 = require(\"./enums/enums\");\r\nvar ItemLifeCycleStates;\r\n(function (ItemLifeCycleStates) {\r\n    ItemLifeCycleStates[ItemLifeCycleStates[\"INITIAL\"] = 0] = \"INITIAL\";\r\n    ItemLifeCycleStates[ItemLifeCycleStates[\"LOADED\"] = 1] = \"LOADED\";\r\n    ItemLifeCycleStates[ItemLifeCycleStates[\"RENDERED\"] = 2] = \"RENDERED\";\r\n})(ItemLifeCycleStates || (ItemLifeCycleStates = {}));\r\nvar ItemApp = /** @class */ (function () {\r\n    function ItemApp() {\r\n        this.uid = \"\";\r\n        this.index = -1;\r\n        // Item Initialization is an asynchronous process\r\n        // this flag helps itemApp determine the current state of the Item\r\n        this.ItemLifeCycleState = ItemLifeCycleStates.INITIAL;\r\n        // An Id to uniquely identify a particular launch of Item.\r\n        this.launchId = '';\r\n        this.state = null;\r\n        this.launchMode = enums_1.LaunchModes.ATTEMPT;\r\n        /**\r\n         * This property is used to maintain the state of hints displayed for the item-player.\r\n         * Later on, this state management will be moved inside item-player as it's item-player responsibility to maintain it.\r\n         */\r\n        this.isHintsDisplayed = false;\r\n    }\r\n    ItemApp.prototype.init = function (uid, index, item, launchId, options) {\r\n        this.uid = uid;\r\n        this.index = index;\r\n        this.launchId = launchId;\r\n        this.options = options;\r\n        if (options && options.eventMgr) {\r\n            this.eventMgr = options.eventMgr;\r\n        }\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            self.fetchItemJSON(item)\r\n                .then(function (item) {\r\n                self.itemJSON = item;\r\n                // loads the respective item renderer\r\n                if (self.isItemJsonValid()) {\r\n                    var itemModel = self.getItemModel(item);\r\n                    return self.loadItemPlayer(itemModel);\r\n                }\r\n                else {\r\n                    throw new Error(\"Invalid Item Json\");\r\n                }\r\n            })\r\n                .then(function (player) {\r\n                self.itemPlayer = new player();\r\n                self.ItemLifeCycleState = ItemLifeCycleStates.LOADED;\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                self.errorHandler(launchId, err);\r\n                reject();\r\n            });\r\n        });\r\n    };\r\n    ItemApp.prototype.render = function (container) {\r\n        var options = {\r\n            events: this.options.events,\r\n            uiStyle: this.options.uiStyle,\r\n            playerButtons: { visible: false }\r\n        };\r\n        options.uiStyle = new Object(options.uiStyle);\r\n        options.uiStyle['widgetStyles'] = {\r\n            \"box-shadow\": \"none\",\r\n            \"border\": \"none\"\r\n        };\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (self.ItemLifeCycleState == ItemLifeCycleStates.LOADED) {\r\n                self.renderItemPlayer(container, options);\r\n                resolve(self);\r\n            }\r\n            else {\r\n                // waits for init (loading of item JSON and Player) of item to complete\r\n                var inv_1 = setInterval(function () {\r\n                    if (self.ItemLifeCycleState == ItemLifeCycleStates.LOADED) {\r\n                        clearInterval(inv_1);\r\n                        self.renderItemPlayer(container, options);\r\n                        resolve(self);\r\n                    }\r\n                }, 50);\r\n            }\r\n        });\r\n    };\r\n    ItemApp.prototype.save = function () {\r\n        // todo: saves user response to the Attempts Service\r\n    };\r\n    ItemApp.prototype.submit = function () {\r\n        var response = false;\r\n        var options = { displayFeedback: true };\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            response = this.itemPlayer.validateResponse(options);\r\n            // lock the Item Player if the response is true\r\n            if (response) {\r\n                this.itemPlayer.lock();\r\n            }\r\n        }\r\n        return response;\r\n    };\r\n    ItemApp.prototype.retry = function () {\r\n        try {\r\n            // launch new attempt\r\n            if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n                this.itemPlayer.redo({ retainUserResponse: true });\r\n                this.itemPlayer.unlock();\r\n            }\r\n        }\r\n        catch (exception) {\r\n            this.errorHandler(this.launchId, exception);\r\n        }\r\n    };\r\n    ItemApp.prototype.reset = function () {\r\n        try {\r\n            if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n                this.itemPlayer.redo();\r\n            }\r\n        }\r\n        catch (exception) {\r\n            this.errorHandler(this.launchId, exception);\r\n        }\r\n    };\r\n    ItemApp.prototype.resetDimensions = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.itemPlayer.resetDimensions();\r\n        }\r\n    };\r\n    // display hints for the current item\r\n    // returns remaining hints count\r\n    ItemApp.prototype.showHints = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.isHintsDisplayed = true;\r\n            return this.itemPlayer.showHints();\r\n        }\r\n    };\r\n    // hide hints from the current item\r\n    ItemApp.prototype.hideHints = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.isHintsDisplayed = false;\r\n            this.itemPlayer.hideHints();\r\n        }\r\n    };\r\n    // returns if the current item has hints\r\n    ItemApp.prototype.hasHints = function () {\r\n        if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n            return this.itemPlayer.hasHints();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    // returns the count of remaining hints\r\n    ItemApp.prototype.remainingHints = function () {\r\n        if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n            return this.itemPlayer.remainingHints();\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    ItemApp.prototype.destroy = function () {\r\n        try {\r\n            if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n                //resetting ItemLifeCycleState to ItemLifeCycleStates.LOADED so that it can be re-rendered if required.\r\n                this.ItemLifeCycleState = ItemLifeCycleStates.LOADED;\r\n                this.itemPlayer.destroy();\r\n            }\r\n        }\r\n        catch (exception) {\r\n            this.errorHandler(this.launchId, exception);\r\n        }\r\n    };\r\n    ItemApp.prototype.focalise = function () {\r\n        try {\r\n            if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n                this.itemPlayer.focalise();\r\n            }\r\n        }\r\n        catch (exception) {\r\n            this.errorHandler(this.launchId, exception);\r\n        }\r\n    };\r\n    // Function to hide Item Player\r\n    ItemApp.prototype.hide = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.itemPlayer.hide();\r\n        }\r\n    };\r\n    // Function to show Item Player\r\n    ItemApp.prototype.show = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.itemPlayer.show();\r\n        }\r\n    };\r\n    /**\r\n     * Return the state of the item based on the passed mode.\r\n     */\r\n    ItemApp.prototype.getState = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            return this.itemPlayer.getState();\r\n        }\r\n        else {\r\n            return this.state;\r\n        }\r\n    };\r\n    /**\r\n     * This method can be used to set the state of an item programmatically.\r\n     * This method is expected to be used by a Consumer App, which saves the user attempts data with itself\r\n     * and not on the LeonardoDLS™ Attempts Service, for restoring a user response state.\r\n     * @param state\r\n     * @param launchMode\r\n     */\r\n    ItemApp.prototype.setState = function (state, launchMode) {\r\n        if (state || launchMode == enums_1.LaunchModes.REVIEW) {\r\n            if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n                this.itemPlayer.setState(state, launchMode);\r\n            }\r\n            else {\r\n                this.state = state;\r\n                this.launchMode = launchMode;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    ItemApp.prototype.getOptimumDimensions = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            return this.itemPlayer.getOptimumDimensions();\r\n        }\r\n        else {\r\n            return {\r\n                height: 0,\r\n                width: 0\r\n            };\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    ItemApp.prototype.canShowAnswer = function () {\r\n        if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n            return this.itemPlayer.canShowAnswer();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    ItemApp.prototype.getScore = function () {\r\n        var scoreResp = null;\r\n        if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n            scoreResp = this.itemPlayer.getScore();\r\n        }\r\n        return scoreResp;\r\n    };\r\n    ItemApp.prototype.hasUserResponse = function () {\r\n        if (this.ItemLifeCycleState >= ItemLifeCycleStates.LOADED) {\r\n            return this.itemPlayer.hasUserResponse();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    ItemApp.prototype.hideAnswer = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.itemPlayer.hideAnswer();\r\n        }\r\n    };\r\n    ItemApp.prototype.showAnswer = function () {\r\n        if (this.ItemLifeCycleState == ItemLifeCycleStates.RENDERED) {\r\n            this.itemPlayer.showAnswer();\r\n        }\r\n    };\r\n    /**\r\n     * Returns true if the item json provided is valid otherwise false\r\n     */\r\n    ItemApp.prototype.isItemJsonValid = function () {\r\n        // Check if item json exist and the value of type is 'item'. Also check if subType is present and is not an empty string.\r\n        if (this.itemJSON && this.itemJSON.type == \"item\" && this.itemJSON.subType) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     *\r\n     * @param item\r\n     */\r\n    ItemApp.prototype.fetchItemJSON = function (item) {\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (typeof item == \"object\") {\r\n                resolve(item);\r\n            }\r\n            else if (utils_1.isURL(item)) {\r\n                fetch(item)\r\n                    .then(function (res) { return res.json(); })\r\n                    .then(function (itemJSON) { return resolve(itemJSON); })\r\n                    .catch(function (err) {\r\n                    self.errorHandler(event_enum_1.EVENTS.ERROR, err);\r\n                    reject(err);\r\n                });\r\n            }\r\n            else if (typeof item == \"string\") {\r\n                // uses itemsAPI to fetch item JSON\r\n                var itemsAPI = LeonardoApp.Services.get(\"items\");\r\n                itemsAPI\r\n                    .getItem(item)\r\n                    .then(function (item) {\r\n                    if (!item.message) {\r\n                        resolve(item);\r\n                    }\r\n                    else {\r\n                        throw new Error(item.message);\r\n                    }\r\n                })\r\n                    .catch(function (err) {\r\n                    self.errorHandler(event_enum_1.EVENTS.ERROR, err);\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    ItemApp.prototype.getItemModel = function (itemJSON) {\r\n        return itemJSON.subType;\r\n    };\r\n    ItemApp.prototype.loadItemPlayer = function (itemModel) {\r\n        var self = this;\r\n        var playerLoader = LeonardoApp.PlayerLoader;\r\n        return new Promise(function (resolve, reject) {\r\n            if (playerLoader) {\r\n                playerLoader.loadPlayer(itemModel)\r\n                    .then(function (player) { return resolve(player); })\r\n                    .catch(function (err) {\r\n                    self.errorHandler(event_enum_1.EVENTS.ERROR, err);\r\n                    reject();\r\n                });\r\n            }\r\n            else {\r\n                self.errorHandler(event_enum_1.EVENTS.ERROR, \"Module Loader not available\");\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    // Error Handler to emit all error events from single point.\r\n    ItemApp.prototype.errorHandler = function (launchId, exception) {\r\n        var errorEventArgs = {\r\n            launchId: launchId,\r\n            type: event_enum_1.EVENTS.ERROR,\r\n            exception: exception\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.ERROR, new event_args_1.ErrorEventArgs(errorEventArgs));\r\n    };\r\n    /**\r\n     *\r\n     * @param uid Unique Identifier\r\n     * @param itemJSON\r\n     * @param container HTML Conatiner in which Item is to be rendered\r\n     * @param options InitOptions required to laucnh the item\r\n     */\r\n    ItemApp.prototype.renderItemPlayer = function (container, options) {\r\n        // render the item in container and call the callback when rendering is done\r\n        this.itemPlayer.initItem(this.uid, this.itemJSON, container, options);\r\n        this.ItemLifeCycleState = ItemLifeCycleStates.RENDERED;\r\n        if (this.launchMode == enums_1.LaunchModes.REVIEW || this.state != null) {\r\n            this.setState(this.state, this.launchMode);\r\n        }\r\n    };\r\n    //===============Futuristic Functions==============================================    \r\n    ItemApp.prototype.subscribe = function (eventName, eventHandler) { };\r\n    ItemApp.prototype.unsubscribe = function (eventName, eventHandler) { };\r\n    return ItemApp;\r\n}());\r\nexports.ItemApp = ItemApp;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Function to test if the given string is an URL or not.\r\n *\r\n * We are accepting the URL's created by considering the below provided format:\r\n * scheme:[//[user:password@]host[:port]]path[?query]\r\n *\r\n * Ref: 1. https://www.urlencoder.io/learn/\r\n *      2. https://tools.ietf.org/html/rfc3986\r\n * @param url\r\n */\r\nfunction isURL(url) {\r\n    // regular expression of URL.\r\n    var urlRegex = new RegExp('(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#\\/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#\\/%=~_|$])', 'i');\r\n    return urlRegex.test(url);\r\n}\r\nexports.isURL = isURL;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar item_container_component_1 = require(\"../item-player/item-container.component\");\r\nvar enums_1 = require(\"../../utils/enums\");\r\nvar react_dom_1 = require(\"react-dom\");\r\nvar FlashCardActivityComponent = /** @class */ (function (_super) {\r\n    __extends(FlashCardActivityComponent, _super);\r\n    function FlashCardActivityComponent(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.isRenderingComplete = false;\r\n        _this.selectedSectionIndex = 0;\r\n        _this.ref = react_1.default.createRef();\r\n        _this.fapVersion = process.env.fapVersion;\r\n        return _this;\r\n    }\r\n    FlashCardActivityComponent.prototype.render = function () {\r\n        this.props.callback.registerChildComp(enums_1.Components.ACTIVITY_PLAYER, this);\r\n        var isButtonBarVisible = false;\r\n        var itemContainerCallback = {\r\n            registerChildComp: this.registerChildComp.bind(this),\r\n            renderItem: this.props.callback.renderItem,\r\n            destroyItem: this.props.callback.destroyItem,\r\n            getItemCountInSection: this.props.callback.getItemCountInSection,\r\n            getItemIndex: this.props.callback.getItemIndex,\r\n            renderNextSection: this.renderNextSection.bind(this),\r\n            renderPreviousSection: this.renderPreviousSection.bind(this),\r\n            itemNavigated: this.itemNavigated.bind(this),\r\n            onItemRendered: this.onItemRendered.bind(this)\r\n        };\r\n        return (react_1.default.createElement(\"div\", { ref: this.ref, \"fcp-version\": this.fapVersion, className: 'activity-player-container' },\r\n            react_1.default.createElement(item_container_component_1.ItemContainerComponent, { callback: itemContainerCallback })));\r\n    };\r\n    /**\r\n     * Function to register child component instances with parent.\r\n     * @param compType\r\n     * @param instance\r\n     */\r\n    FlashCardActivityComponent.prototype.registerChildComp = function (compType, instance) {\r\n        switch (compType) {\r\n            case enums_1.Components.ITEM_PLAYER: {\r\n                this.itemContainerComp = instance;\r\n                break;\r\n            }\r\n            case enums_1.Components.BUTTON_BAR: {\r\n                this.buttonBarComp = instance;\r\n                break;\r\n            }\r\n            case enums_1.Components.LOADER: {\r\n                this.loaderComp = instance;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Destroy the Activity Player and it's children\r\n     */\r\n    FlashCardActivityComponent.prototype.destroy = function () {\r\n        this.itemContainerComp.destroy();\r\n        this.itemContainerComp = null;\r\n        this.buttonBarComp = null;\r\n        var Nothing = function () { return null; };\r\n        react_dom_1.render(react_1.default.createElement(Nothing, null), document.body);\r\n    };\r\n    /**\r\n     * this function render next section when goToNextCard called on the last card of the current section.\r\n     */\r\n    FlashCardActivityComponent.prototype.renderNextSection = function () {\r\n        if (this.selectedSectionIndex < this.props.totalSections - 1) {\r\n            this.selectedSectionIndex = this.selectedSectionIndex + 1;\r\n            this.itemContainerComp.renderNextStack(this.selectedSectionIndex);\r\n        }\r\n        else {\r\n            this.props.callback.submitEventHandler();\r\n        }\r\n    };\r\n    /**\r\n     * this function render previous section when goTONextcard is called on the first card of the current section\r\n     */\r\n    FlashCardActivityComponent.prototype.renderPreviousSection = function () {\r\n        if (this.selectedSectionIndex != 0) {\r\n            this.selectedSectionIndex = this.selectedSectionIndex - 1;\r\n            this.itemContainerComp.renderPreviousStack(this.selectedSectionIndex);\r\n        }\r\n    };\r\n    FlashCardActivityComponent.prototype.onItemNavigation = function (navigationDirection) {\r\n        var currentItemIndex = this.props.callback.getCurrentItemIndex();\r\n        switch (navigationDirection) {\r\n            case enums_1.NavigationDirection.NEXT: {\r\n                if (this.props.callback.getItems()[currentItemIndex + 1]) {\r\n                    this.itemContainerComp.goToNextCard();\r\n                }\r\n                else {\r\n                    console.log('Already on Last Item');\r\n                }\r\n                break;\r\n            }\r\n            case enums_1.NavigationDirection.PREVIOUS: {\r\n                if (this.props.callback.getItems()[currentItemIndex - 1]) {\r\n                    this.itemContainerComp.goToPreviousCard();\r\n                }\r\n                else {\r\n                    console.log('Already on First Item');\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    FlashCardActivityComponent.prototype.onItemRendered = function () {\r\n        if (!this.isRenderingComplete) {\r\n            this.isRenderingComplete = true;\r\n            this.props.callback.launchedEventHandler();\r\n        }\r\n    };\r\n    /**\r\n     * Emits a Navigation Event whenever item navigation is performed\r\n     * @param previousItem\r\n     * @param currentItem\r\n     */\r\n    FlashCardActivityComponent.prototype.itemNavigated = function (navigationType) {\r\n        var itemsArray = this.props.callback.getItems();\r\n        var lastCurrentItem = this.props.callback.getCurrentItem();\r\n        var newCurrentItem;\r\n        switch (navigationType) {\r\n            case enums_1.NavigationDirection.NEXT: {\r\n                newCurrentItem = itemsArray[lastCurrentItem.index + 1];\r\n                break;\r\n            }\r\n            case enums_1.NavigationDirection.PREVIOUS: {\r\n                newCurrentItem = itemsArray[lastCurrentItem.index - 1];\r\n                break;\r\n            }\r\n        }\r\n        if (newCurrentItem) {\r\n            this.props.callback.setCurrentItem(newCurrentItem);\r\n            this.props.callback.navigationEventHandler(lastCurrentItem, newCurrentItem);\r\n        }\r\n    };\r\n    return FlashCardActivityComponent;\r\n}(react_1.Component));\r\nexports.FlashCardActivityComponent = FlashCardActivityComponent;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar enums_1 = require(\"../../utils/enums\");\r\nvar stackCard_1 = __importDefault(require(\"../stackedCard/stackCard\"));\r\nvar ItemContainerComponent = /** @class */ (function (_super) {\r\n    __extends(ItemContainerComponent, _super);\r\n    function ItemContainerComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isRenderingComplete = false;\r\n        return _this;\r\n    }\r\n    ItemContainerComponent.prototype.componentDidMount = function () {\r\n        this.stackedCardInstance = new stackCard_1.default(this.ref.current.parentElement, {\r\n            renderNextSection: this.props.callback.renderNextSection,\r\n            renderPreviousSection: this.props.callback.renderPreviousSection,\r\n            destroyItem: this.props.callback.destroyItem,\r\n            itemNavigated: this.props.callback.itemNavigated\r\n        });\r\n        this.renderSection(0);\r\n        this.stackedCardInstance.createStackedCard(this.ref.current);\r\n    };\r\n    ItemContainerComponent.prototype.render = function () {\r\n        this.props.callback.registerChildComp(enums_1.Components.ITEM_PLAYER, this);\r\n        this.ref = react_1.default.createRef();\r\n        return (react_1.default.createElement(\"div\", { className: \"item-player-container\" },\r\n            react_1.default.createElement(\"div\", { className: \"item-player-stacked-cards-container\", ref: this.ref })));\r\n    };\r\n    ItemContainerComponent.prototype.destroy = function () {\r\n        this.stackedCardInstance.destroy();\r\n        this.stackedCardInstance = null;\r\n    };\r\n    ItemContainerComponent.prototype.renderSection = function (sectionIndex, isPrevious) {\r\n        var _this = this;\r\n        if (isPrevious === void 0) { isPrevious = false; }\r\n        var translateY = isPrevious ? \"-1000\" : \"1000\";\r\n        var itemCountInSection = this.props.callback.getItemCountInSection(sectionIndex);\r\n        for (var i = 0; i <= itemCountInSection - 1; i++) {\r\n            var itemIndex = this.props.callback.getItemIndex(sectionIndex, i);\r\n            var itemContainer = this.createItemContainer(itemIndex, translateY);\r\n            this.props.callback.renderItem(itemIndex, itemContainer)\r\n                .then(function (itemInstance) {\r\n                _this.props.callback.onItemRendered();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Function to create the DOM container in which item-player will be rendered.\r\n     * @param itemIndex\r\n     */\r\n    ItemContainerComponent.prototype.createItemContainer = function (itemIndex, translateY) {\r\n        var container = document.createElement('div');\r\n        container.style.height = '100%';\r\n        container.style.width = '100%';\r\n        container.style.position = 'absolute';\r\n        container.style.webkitTransform = ' translateX(0) translateY(' + translateY + 'px) translateZ(0)';\r\n        container.setAttribute('index', itemIndex);\r\n        this.ref.current.appendChild(container);\r\n        return container;\r\n    };\r\n    /**\r\n     *\r\n     * @param index render Next section when items on current section gets over\r\n     */\r\n    ItemContainerComponent.prototype.renderNextStack = function (index) {\r\n        this.renderSection(index);\r\n        this.stackedCardInstance.createStackedCard(this.ref.current);\r\n    };\r\n    /**\r\n     *\r\n     * @param index render previous section\r\n     */\r\n    ItemContainerComponent.prototype.renderPreviousStack = function (index) {\r\n        this.renderSection(index, true);\r\n        this.stackedCardInstance.createPreviousStackedCards(this.ref.current);\r\n    };\r\n    /**\r\n     * goes to next card on current section\r\n     */\r\n    ItemContainerComponent.prototype.goToNextCard = function () {\r\n        this.stackedCardInstance.onActionTop();\r\n    };\r\n    /**\r\n     * go to previous card on current section\r\n     */\r\n    ItemContainerComponent.prototype.goToPreviousCard = function () {\r\n        this.stackedCardInstance.goToPreviousCard();\r\n    };\r\n    return ItemContainerComponent;\r\n}(react_1.Component));\r\nexports.ItemContainerComponent = ItemContainerComponent;\r\n","\"use strict\";\r\n// JavaScript Document\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./style/index.less\");\r\nvar StackedCards = /** @class */ (function () {\r\n    function StackedCards(obj, callback) {\r\n        this.stackedOptions = 'Bottom'; //Change stacked cards view from 'Bottom', 'Top' or 'None'.\r\n        this.rotate = true; //Activate the elements' rotation for each move on stacked cards.\r\n        this.items = 6; //Number of visible elements when the stacked options are bottom or top.\r\n        this.elementsMargin = 8; //Define the distance of each element when the stacked options are bottom or top.\r\n        this.useOverlays = false; //Enable or disable the overlays for swipe elements.\r\n        this.currentPosition = 0; //Keep the position of active stacked card.\r\n        this.velocity = 0.3; //Minimum this.velocity allowed to trigger a swipe.\r\n        this.isFirstTime = true;\r\n        this.touchingElement = false;\r\n        this.callback = callback;\r\n        this.isUndoInProgress = null;\r\n        this.addGesture(obj);\r\n    }\r\n    StackedCards.prototype.createStackedCard = function (container) {\r\n        this.items = 5;\r\n        this.currentPosition = 0;\r\n        this.stackedCardsObj = container;\r\n        this.listElNodesObj = this.stackedCardsObj.children;\r\n        // this.topObj = this.obj.querySelector('.stackedcards-overlay.top');\r\n        // this.rightObj = this.obj.querySelector('.stackedcards-overlay.right');\r\n        // this.leftObj = this.obj.querySelector('.stackedcards-overlay.left');\r\n        this.countElements();\r\n        this.currentElement();\r\n        this.changeBackground();\r\n        this.listElNodesWidth = this.stackedCardsObj.offsetWidth;\r\n        // this.currentElementObj = this.listElNodesObj[this.currentPosition];\r\n        this.updateUi();\r\n        //Prepare elements on DOM\r\n        var addMargin = this.elementsMargin * (this.items - 1) + 'px';\r\n        if (this.stackedOptions === \"Top\") {\r\n            for (var i = this.items; i < this.maxElements; i++) {\r\n                this.listElNodesObj[i].classList.add('stackedcards-top', 'stackedcards--animatable', 'stackedcards-origin-top');\r\n            }\r\n            this.elTrans = this.elementsMargin * (this.items - 1);\r\n            this.stackedCardsObj.style.marginBottom = addMargin;\r\n            this.stackedCardsObj.style.height = 'calc(100% - ' + addMargin + ')';\r\n        }\r\n        else if (this.stackedOptions === \"Bottom\") {\r\n            for (var i = this.items; i < this.maxElements; i++) {\r\n                this.listElNodesObj[i].classList.add('stackedcards-bottom', 'stackedcards--animatable', 'stackedcards-origin-bottom');\r\n            }\r\n            this.elTrans = 0;\r\n            this.stackedCardsObj.style.marginBottom = addMargin;\r\n            this.stackedCardsObj.style.height = 'calc(100% - ' + addMargin + ')';\r\n        }\r\n        else if (this.stackedOptions === \"None\") {\r\n            for (var i = this.items; i < this.maxElements; i++) {\r\n                this.listElNodesObj[i].classList.add('stackedcards-none', 'stackedcards--animatable');\r\n            }\r\n            this.elTrans = 0;\r\n        }\r\n        for (var i = this.items; i < this.maxElements; i++) {\r\n            this.listElNodesObj[i].style.zIndex = 0;\r\n            this.listElNodesObj[i].style.opacity = 0;\r\n            this.listElNodesObj[i].style.webkitTransform = 'scale(' + (1 - (this.items * 0.04)) + ') translateX(0) translateY(' + this.elTrans + 'px) translateZ(0)';\r\n            this.listElNodesObj[i].style.transform = 'scale(' + (1 - (this.items * 0.04)) + ') translateX(0) translateY(' + this.elTrans + 'px) translateZ(0)';\r\n        }\r\n        if (this.listElNodesObj[this.currentPosition]) {\r\n            this.listElNodesObj[this.currentPosition].classList.add('stackedcards-active');\r\n        }\r\n        if (this.useOverlays) {\r\n            this.leftObj.style.transform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n            this.leftObj.style.webkitTransform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n            this.rightObj.style.transform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n            this.rightObj.style.webkitTransform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n            this.topObj.style.transform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n            this.topObj.style.webkitTransform = 'translateX(0px) translateY(' + this.elTrans + 'px) translateZ(0px) rotate(0deg)';\r\n        }\r\n        //  else {\r\n        // \tthis.leftObj.className = '';\r\n        // \tthis.rightObj.className = '';\r\n        // \tthis.topObj.className = '';\r\n        // \tthis.leftObj.classList.add('stackedcards-overlay-hidden');\r\n        // \tthis.rightObj.classList.add('stackedcards-overlay-hidden');\r\n        // \tthis.topObj.classList.add('stackedcards-overlay-hidden');\r\n        // }\r\n        //Remove class init\r\n        // setTimeout(()=> {\r\n        //     this.obj.classList.remove('init');\r\n        // },150);\r\n    };\r\n    StackedCards.prototype.createPreviousStackedCards = function (container) {\r\n        this.items = 5;\r\n        this.stackedCardsObj = container;\r\n        this.listElNodesObj = this.stackedCardsObj.children;\r\n        this.currentPosition = this.listElNodesObj.length - 1;\r\n        this.countElements();\r\n        this.currentElement();\r\n        this.listElNodesWidth = this.stackedCardsObj.offsetWidth;\r\n        this.updateUi();\r\n    };\r\n    StackedCards.prototype.backToMiddle = function () {\r\n        this.removeNoTransition();\r\n        this.transformUi(0, 0, 1, this.currentElementObj);\r\n        if (this.useOverlays) {\r\n            this.transformUi(0, 0, 0, this.leftObj);\r\n            this.transformUi(0, 0, 0, this.rightObj);\r\n            this.transformUi(0, 0, 0, this.topObj);\r\n        }\r\n        this.setZindex(5);\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            //roll back the opacity of second element\r\n            if ((this.currentPosition + 1) < this.maxElements) {\r\n                this.listElNodesObj[this.currentPosition + 1].style.opacity = '.8';\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    // Usable functions\r\n    StackedCards.prototype.countElements = function () {\r\n        this.maxElements = this.listElNodesObj.length;\r\n        if (this.items > this.maxElements) {\r\n            this.items = this.maxElements;\r\n        }\r\n    };\r\n    ;\r\n    //Keep the active card.\r\n    StackedCards.prototype.currentElement = function () {\r\n        this.currentElementObj = this.listElNodesObj[this.currentPosition];\r\n    };\r\n    ;\r\n    //Change background for each swipe.\r\n    StackedCards.prototype.changeBackground = function () {\r\n        //   document.body.classList.add(\"background-\" + this.currentPosition + \"\");\r\n    };\r\n    ;\r\n    //Change states\r\n    StackedCards.prototype.changeStages = function () {\r\n        if (this.currentPosition == this.maxElements) {\r\n            //Event listener created to know when transition ends and changes states\r\n            this.listElNodesObj[this.maxElements - 1].addEventListener('transitionend', function () {\r\n                // document.body.classList.add(\"background-7\");\r\n                // document.querySelector('.stage').classList.add('hidden'); \r\n                // document.querySelector('.final-state').classList.remove('hidden');\r\n                // document.querySelector('.final-state').classList.add('active');\r\n                // this.listElNodesObj[this.maxElements - 1].removeEventListener('transitionend', null, false); \r\n            });\r\n        }\r\n    };\r\n    ;\r\n    //Functions to swipe left elements on logic external action.\r\n    StackedCards.prototype.onActionLeft = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                this.leftObj.classList.remove('no-transition');\r\n                this.topObj.classList.remove('no-transition');\r\n                this.leftObj.style.zIndex = '8';\r\n                this.transformUi(0, 0, 1, this.leftObj);\r\n            }\r\n            setTimeout(function () {\r\n                _this.onSwipeLeft();\r\n                _this.resetOverlayLeft();\r\n            }, 300);\r\n        }\r\n    };\r\n    ;\r\n    //Functions to swipe right elements on logic external action.\r\n    StackedCards.prototype.onActionRight = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                this.rightObj.classList.remove('no-transition');\r\n                this.topObj.classList.remove('no-transition');\r\n                this.rightObj.style.zIndex = '8';\r\n                this.transformUi(0, 0, 1, this.rightObj);\r\n            }\r\n            setTimeout(function () {\r\n                _this.onSwipeRight();\r\n                _this.resetOverlayRight();\r\n            }, 300);\r\n        }\r\n    };\r\n    ;\r\n    //Functions to swipe top elements on logic external action.\r\n    StackedCards.prototype.onActionTop = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                this.leftObj.classList.remove('no-transition');\r\n                this.rightObj.classList.remove('no-transition');\r\n                this.topObj.classList.remove('no-transition');\r\n                this.topObj.style.zIndex = '8';\r\n                this.transformUi(0, 0, 1, this.topObj);\r\n            }\r\n            setTimeout(function () {\r\n                _this.onSwipeTop();\r\n                _this.resetOverlays();\r\n            }, 300); //wait animations end\r\n        }\r\n    };\r\n    ;\r\n    //Swipe active card to left.\r\n    StackedCards.prototype.onSwipeLeft = function () {\r\n        this.removeNoTransition();\r\n        this.transformUi(-1000, 0, 0, this.currentElementObj);\r\n        if (this.useOverlays) {\r\n            this.transformUi(-1000, 0, 0, this.leftObj); //Move leftOverlay\r\n            this.transformUi(-1000, 0, 0, this.topObj); //Move topOverlay\r\n            this.resetOverlayLeft();\r\n        }\r\n        this.postionElementToTop(this.currentElementObj);\r\n        this.currentPosition = this.currentPosition + 1;\r\n        this.updateUi();\r\n        this.currentElement();\r\n        // this.changeBackground();\r\n        // this.changeStages();\r\n        this.setActiveHidden();\r\n        this.isSectionOver();\r\n        this.callback.itemNavigated('next');\r\n    };\r\n    ;\r\n    //Swipe active card to right.\r\n    StackedCards.prototype.onSwipeRight = function () {\r\n        this.removeNoTransition();\r\n        this.transformUi(1000, 0, 0, this.currentElementObj);\r\n        if (this.useOverlays) {\r\n            this.transformUi(1000, 0, 0, this.rightObj); //Move rightOverlay\r\n            this.transformUi(1000, 0, 0, this.topObj); //Move topOverlay\r\n            this.resetOverlayRight();\r\n        }\r\n        this.postionElementToTop(this.currentElementObj);\r\n        this.currentPosition = this.currentPosition + 1;\r\n        this.updateUi();\r\n        this.currentElement();\r\n        // this.changeBackground();\r\n        // this.changeStages();\r\n        this.setActiveHidden();\r\n        this.isSectionOver();\r\n        this.callback.itemNavigated('next');\r\n    };\r\n    ;\r\n    //Swipe active card to top.\r\n    StackedCards.prototype.onSwipeTop = function () {\r\n        this.removeNoTransition();\r\n        this.transformUi(0, -1000, 0, this.currentElementObj);\r\n        if (this.useOverlays) {\r\n            this.transformUi(0, -1000, 0, this.leftObj); //Move leftOverlay\r\n            this.transformUi(0, -1000, 0, this.rightObj); //Move rightOverlay\r\n            this.transformUi(0, -1000, 0, this.topObj); //Move topOverlay\r\n            this.resetOverlays();\r\n        }\r\n        this.currentPosition = this.currentPosition + 1;\r\n        this.updateUi();\r\n        this.currentElement();\r\n        // this.changeBackground();\r\n        // this.changeStages();\r\n        this.setActiveHidden();\r\n        this.isSectionOver();\r\n        this.callback.itemNavigated('next');\r\n    };\r\n    ;\r\n    StackedCards.prototype.onUndoGesture = function () {\r\n        this.goToPreviousCard();\r\n    };\r\n    //Remove transitions from all elements to be moved in each swipe movement to improve perfomance of stacked cards.\r\n    StackedCards.prototype.removeNoTransition = function () {\r\n        if (this.listElNodesObj[this.currentPosition]) {\r\n            if (this.useOverlays) {\r\n                this.leftObj.classList.remove('no-transition');\r\n                this.rightObj.classList.remove('no-transition');\r\n                this.topObj.classList.remove('no-transition');\r\n            }\r\n            this.listElNodesObj[this.currentPosition].classList.remove('no-transition');\r\n            this.listElNodesObj[this.currentPosition].style.zIndex = 6;\r\n        }\r\n    };\r\n    ;\r\n    //Move the overlay left to initial position.\r\n    StackedCards.prototype.resetOverlayLeft = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                setTimeout(function () {\r\n                    if (_this.stackedOptions === \"Top\") {\r\n                        _this.elTrans = _this.elementsMargin * (_this.items - 1);\r\n                    }\r\n                    else if (_this.stackedOptions === \"Bottom\" || _this.stackedOptions === \"None\") {\r\n                        _this.elTrans = 0;\r\n                    }\r\n                    if (!_this.isFirstTime) {\r\n                        _this.leftObj.classList.add('no-transition');\r\n                        _this.topObj.classList.add('no-transition');\r\n                    }\r\n                    requestAnimationFrame(function () {\r\n                        _this.leftObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.leftObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.leftObj.style.opacity = '0';\r\n                        _this.topObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.opacity = '0';\r\n                    });\r\n                }, 300);\r\n                this.isFirstTime = false;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    //Move the overlay right to initial position.\r\n    StackedCards.prototype.resetOverlayRight = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                setTimeout(function () {\r\n                    if (_this.stackedOptions === \"Top\") {\r\n                        _this.elTrans = _this.elementsMargin * (_this.items - 1);\r\n                    }\r\n                    else if (_this.stackedOptions === \"Bottom\" || _this.stackedOptions === \"None\") {\r\n                        _this.elTrans = 0;\r\n                    }\r\n                    if (!_this.isFirstTime) {\r\n                        _this.rightObj.classList.add('no-transition');\r\n                        _this.topObj.classList.add('no-transition');\r\n                    }\r\n                    requestAnimationFrame(function () {\r\n                        _this.rightObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.rightObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.rightObj.style.opacity = '0';\r\n                        _this.topObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.opacity = '0';\r\n                    });\r\n                }, 300);\r\n                this.isFirstTime = false;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    //Move the overlays to initial position.\r\n    StackedCards.prototype.resetOverlays = function () {\r\n        var _this = this;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.useOverlays) {\r\n                setTimeout(function () {\r\n                    if (_this.stackedOptions === \"Top\") {\r\n                        _this.elTrans = _this.elementsMargin * (_this.items - 1);\r\n                    }\r\n                    else if (_this.stackedOptions === \"Bottom\" || _this.stackedOptions === \"None\") {\r\n                        _this.elTrans = 0;\r\n                    }\r\n                    if (!_this.isFirstTime) {\r\n                        _this.leftObj.classList.add('no-transition');\r\n                        _this.rightObj.classList.add('no-transition');\r\n                        _this.topObj.classList.add('no-transition');\r\n                    }\r\n                    requestAnimationFrame(function () {\r\n                        _this.leftObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.leftObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.leftObj.style.opacity = '0';\r\n                        _this.rightObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.rightObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.rightObj.style.opacity = '0';\r\n                        _this.topObj.style.transform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.webkitTransform = \"translateX(0) translateY(\" + _this.elTrans + \"px) translateZ(0)\";\r\n                        _this.topObj.style.opacity = '0';\r\n                    });\r\n                }, 300); // wait for animations time\r\n                this.isFirstTime = false;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    StackedCards.prototype.setActiveHidden = function () {\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            this.listElNodesObj[this.currentPosition - 1].classList.remove('stackedcards-active');\r\n            this.listElNodesObj[this.currentPosition - 1].classList.add('stackedcards-hidden');\r\n            this.listElNodesObj[this.currentPosition].classList.add('stackedcards-active');\r\n        }\r\n    };\r\n    ;\r\n    //Set the new z-index for specific card.\r\n    StackedCards.prototype.setZindex = function (zIndex) {\r\n        if (this.listElNodesObj[this.currentPosition]) {\r\n            this.listElNodesObj[this.currentPosition].style.zIndex = zIndex;\r\n        }\r\n    };\r\n    ;\r\n    // Remove element from the DOM after swipe. To use this method you need to call this function in this.onSwipeLeft, this.onSwipeRight and this.onSwipeTop and put the method just above the variable 'this.currentPosition = this.currentPosition + 1'. \r\n    //On the actions this.onSwipeLeft, this.onSwipeRight and this.onSwipeTop you need to remove the this.currentPosition variable (this.currentPosition = this.currentPosition + 1) and the function this.setActiveHidden\r\n    StackedCards.prototype.removeElement = function () {\r\n        this.currentElementObj.remove();\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            this.listElNodesObj[this.currentPosition].classList.add('stackedcards-active');\r\n        }\r\n    };\r\n    ;\r\n    //Add translate X and Y to active card for each frame.\r\n    StackedCards.prototype.transformUi = function (moveX, moveY, opacity, elementObj) {\r\n        var _this = this;\r\n        requestAnimationFrame(function () {\r\n            var element = elementObj;\r\n            // Function to generate rotate value \r\n            function RotateRegulator(value) {\r\n                if (value / 10 > 15) {\r\n                    return 15;\r\n                }\r\n                else if (value / 10 < -15) {\r\n                    return -15;\r\n                }\r\n                return value / 10;\r\n            }\r\n            var rotateElement;\r\n            if (_this.rotate) {\r\n                rotateElement = RotateRegulator(moveX);\r\n            }\r\n            else {\r\n                rotateElement = 0;\r\n            }\r\n            if (_this.stackedOptions === \"Top\") {\r\n                _this.elTrans = _this.elementsMargin * (_this.items - 1);\r\n                if (element) {\r\n                    element.style.webkitTransform = \"translateX(\" + moveX + \"px) translateY(\" + (moveY + _this.elTrans) + \"px) translateZ(0) rotate(\" + rotateElement + \"deg)\";\r\n                    element.style.transform = \"translateX(\" + moveX + \"px) translateY(\" + (moveY + _this.elTrans) + \"px) translateZ(0) rotate(\" + rotateElement + \"deg)\";\r\n                    element.style.opacity = opacity;\r\n                }\r\n            }\r\n            else if (_this.stackedOptions === \"Bottom\" || _this.stackedOptions === \"None\") {\r\n                if (element) {\r\n                    element.style.webkitTransform = \"translateX(\" + moveX + \"px) translateY(\" + (moveY) + \"px) translateZ(0) rotate(\" + rotateElement + \"deg)\";\r\n                    element.style.transform = \"translateX(\" + moveX + \"px) translateY(\" + (moveY) + \"px) translateZ(0) rotate(\" + rotateElement + \"deg)\";\r\n                    element.style.opacity = opacity;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ;\r\n    //Action to update all elements on the DOM for each stacked card.\r\n    StackedCards.prototype.updateUi = function () {\r\n        var _this = this;\r\n        requestAnimationFrame(function () {\r\n            _this.elTrans = 0;\r\n            var elZindex = 5;\r\n            var elScale = 1;\r\n            var elOpac = 1;\r\n            var elTransTop = _this.items;\r\n            var elTransInc = _this.elementsMargin;\r\n            for (var i = _this.currentPosition; i < (_this.currentPosition + _this.items); i++) {\r\n                if (_this.listElNodesObj[i]) {\r\n                    if (_this.stackedOptions === \"Top\") {\r\n                        _this.listElNodesObj[i].classList.add('stackedcards-top', 'stackedcards--animatable', 'stackedcards-origin-top');\r\n                        if (_this.useOverlays) {\r\n                            _this.leftObj.classList.add('stackedcards-origin-top');\r\n                            _this.rightObj.classList.add('stackedcards-origin-top');\r\n                            _this.topObj.classList.add('stackedcards-origin-top');\r\n                        }\r\n                        _this.elTrans = elTransInc * elTransTop;\r\n                        elTransTop--;\r\n                    }\r\n                    else if (_this.stackedOptions === \"Bottom\") {\r\n                        _this.listElNodesObj[i].classList.add('stackedcards-bottom', 'stackedcards--animatable', 'stackedcards-origin-bottom');\r\n                        if (_this.useOverlays) {\r\n                            _this.leftObj.classList.add('stackedcards-origin-bottom');\r\n                            _this.rightObj.classList.add('stackedcards-origin-bottom');\r\n                            _this.topObj.classList.add('stackedcards-origin-bottom');\r\n                        }\r\n                        _this.elTrans = _this.elTrans + elTransInc;\r\n                    }\r\n                    else if (_this.stackedOptions === \"None\") {\r\n                        _this.listElNodesObj[i].classList.add('stackedcards-none', 'stackedcards--animatable');\r\n                        _this.elTrans = _this.elTrans + elTransInc;\r\n                    }\r\n                    _this.listElNodesObj[i].style.transform = 'scale(' + elScale + ') translateX(0) translateY(' + (_this.elTrans - elTransInc) + 'px) translateZ(0)';\r\n                    _this.listElNodesObj[i].style.webkitTransform = 'scale(' + elScale + ') translateX(0) translateY(' + (_this.elTrans - elTransInc) + 'px) translateZ(0)';\r\n                    _this.listElNodesObj[i].style.opacity = elOpac;\r\n                    _this.listElNodesObj[i].style.zIndex = elZindex;\r\n                    elScale = elScale - 0.035;\r\n                    // elOpac = elOpac - (1 / this.items);\r\n                    //removing opticity factor\r\n                    elZindex--;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ;\r\n    //Touch events block\r\n    StackedCards.prototype.setOverlayOpacity = function () {\r\n        this.topOpacity = (((this.translateY + (this.elementHeight) / 2) / 100) * -1);\r\n        this.rightOpacity = this.translateX / 100;\r\n        this.leftOpacity = ((this.translateX / 100) * -1);\r\n        if (this.topOpacity > 1) {\r\n            this.topOpacity = 1;\r\n        }\r\n        if (this.rightOpacity > 1) {\r\n            this.rightOpacity = 1;\r\n        }\r\n        if (this.leftOpacity > 1) {\r\n            this.leftOpacity = 1;\r\n        }\r\n    };\r\n    StackedCards.prototype.gestureStart = function (evt) {\r\n        this.startTime = new Date().getTime();\r\n        this.startX = evt.changedTouches[0].clientX;\r\n        this.startY = evt.changedTouches[0].clientY;\r\n        this.currentX = this.startX;\r\n        this.currentY = this.startY;\r\n        this.setOverlayOpacity();\r\n        this.touchingElement = true;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            if (this.listElNodesObj[this.currentPosition]) {\r\n                this.listElNodesObj[this.currentPosition].classList.add('no-transition');\r\n                this.setZindex(6);\r\n                if (this.useOverlays) {\r\n                    this.leftObj.classList.add('no-transition');\r\n                    this.rightObj.classList.add('no-transition');\r\n                    this.topObj.classList.add('no-transition');\r\n                }\r\n                if ((this.currentPosition + 1) < this.maxElements) {\r\n                    this.listElNodesObj[this.currentPosition + 1].style.opacity = '1';\r\n                }\r\n                this.elementHeight = this.listElNodesObj[this.currentPosition].offsetHeight / 3;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    StackedCards.prototype.gestureMove = function (evt) {\r\n        this.currentX = evt.changedTouches[0].pageX;\r\n        this.currentY = evt.changedTouches[0].pageY;\r\n        this.translateX = this.currentX - this.startX;\r\n        this.translateY = this.currentY - this.startY;\r\n        this.setOverlayOpacity();\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            evt.preventDefault();\r\n            ////Checking if this is gesture is for getting the last card \r\n            var swipingAngle = Math.atan2(this.translateY, this.translateX) * 180 / Math.PI;\r\n            if (this.isUndoInProgress == null) {\r\n                this.isUndoInProgress = (swipingAngle > 45 && swipingAngle < 135);\r\n            }\r\n            if (!this.isUndoInProgress) {\r\n                this.transformUi(this.translateX, this.translateY, 1, this.currentElementObj);\r\n                if (this.useOverlays) {\r\n                    this.transformUi(this.translateX, this.translateY, this.topOpacity, this.topObj);\r\n                    if (this.translateX < 0) {\r\n                        this.transformUi(this.translateX, this.translateY, this.leftOpacity, this.leftObj);\r\n                        this.transformUi(0, 0, 0, this.rightObj);\r\n                    }\r\n                    else if (this.translateX > 0) {\r\n                        this.transformUi(this.translateX, this.translateY, this.rightOpacity, this.rightObj);\r\n                        this.transformUi(0, 0, 0, this.leftObj);\r\n                    }\r\n                    if (this.useOverlays) {\r\n                        this.leftObj.style.zIndex = 8;\r\n                        this.rightObj.style.zIndex = 8;\r\n                        this.topObj.style.zIndex = 7;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    StackedCards.prototype.gestureEnd = function (evt) {\r\n        if (!this.touchingElement) {\r\n            return;\r\n        }\r\n        this.translateX = this.currentX - this.startX;\r\n        this.translateY = this.currentY - this.startY;\r\n        this.timeTaken = new Date().getTime() - this.startTime;\r\n        this.touchingElement = false;\r\n        if (!(this.currentPosition >= this.maxElements)) {\r\n            //// Checking if this is a isUndoGesture \r\n            if (this.isUndoInProgress) {\r\n                ///Checking if the current y is below the starting point then undo last card, else do nothing\r\n                (this.translateY > 0) ? this.onUndoGesture() : null;\r\n            }\r\n            else if (this.translateY < (this.elementHeight * -1) && this.translateX > ((this.listElNodesWidth / 2) * -1) && this.translateX < (this.listElNodesWidth / 2)) { //is Top?\r\n                this.onSwipeTop();\r\n                // if(this.translateY < (this.elementHeight * -1) || (Math.abs(this.translateY) / this.timeTaken > this.velocity)){ // Did It Move To Top?\r\n                // } else {\r\n                // \tthis.backToMiddle();\r\n                // }\r\n            }\r\n            else {\r\n                if (this.translateX < 0) {\r\n                    this.onSwipeLeft();\r\n                    // if(this.translateX < ((this.listElNodesWidth / 2) * -1) || (Math.abs(this.translateX) / this.timeTaken > this.velocity)){ // Did It Move To Left?\r\n                    // } else {\r\n                    // \tthis.backToMiddle();\r\n                    // }\r\n                }\r\n                else if (this.translateX > 0) {\r\n                    this.onSwipeRight();\r\n                    // if (this.translateX > (this.listElNodesWidth / 2) && (Math.abs(this.translateX) / this.timeTaken > this.velocity)){ // Did It Move To Right?\r\n                    // } else {\r\n                    // \tthis.backToMiddle();\r\n                    // }\r\n                }\r\n            }\r\n        }\r\n        this.isUndoInProgress = null;\r\n    };\r\n    ;\r\n    StackedCards.prototype.addGesture = function (obe) {\r\n        this.element = obe;\r\n        this.element.addEventListener('touchstart', this.gestureStart.bind(this), false);\r\n        this.element.addEventListener('touchmove', this.gestureMove.bind(this), false);\r\n        this.element.addEventListener('touchend', this.gestureEnd.bind(this), false);\r\n    };\r\n    // this.element.addEventListener('touchstart', this.gestureStart, false);\r\n    // element.addEventListener('touchmove', this.gestureMove, false);\r\n    // element.addEventListener('touchend', this.gestureEnd, false);\r\n    // //Add listeners to call global action for swipe cards\r\n    // var buttonLeft = document.querySelector('.left-action');\r\n    // var buttonTop = document.querySelector('.top-action');\r\n    // var buttonRight = document.querySelector('.right-action');\r\n    // buttonLeft.addEventListener('click', onActionLeft, false);\r\n    // buttonTop.addEventListener('click', onActionTop, false);\r\n    // buttonRight.addEventListener('click', onActionRight, false);\r\n    /**\r\n     * Compro-start: this function check for the last card in the section and render next section\r\n     */\r\n    StackedCards.prototype.isSectionOver = function () {\r\n        var _this = this;\r\n        if (this.currentElementObj == null) {\r\n            //Compro-start: using setTimeout to delay in removing element from Dom to avoid glitch \r\n            setTimeout(function () {\r\n                while (_this.listElNodesObj.length != 0) {\r\n                    var itemIndex = _this.listElNodesObj[0].getAttribute(\"index\");\r\n                    _this.callback.destroyItem(itemIndex);\r\n                    _this.listElNodesObj[0].remove();\r\n                }\r\n                _this.callback.renderNextSection();\r\n            }, 400);\r\n        }\r\n    };\r\n    /**\r\n     * Compro-start : this function render previous card\r\n     */\r\n    StackedCards.prototype.goToPreviousCard = function () {\r\n        if (this.currentElementObj.getAttribute(\"index\") == \"0\") {\r\n            return;\r\n        }\r\n        else if (this.currentPosition != 0) {\r\n            this.currentPosition = this.currentPosition - 1;\r\n            this.currentElement();\r\n            this.transformUi(0, 0, 1, this.currentElementObj);\r\n            this.updateUi();\r\n        }\r\n        else {\r\n            this.renderPreviousSection();\r\n        }\r\n        this.callback.itemNavigated('previous');\r\n    };\r\n    /**\r\n     * this function removes current section from DOM after translating elemet to buttom\r\n     */\r\n    StackedCards.prototype.renderPreviousSection = function () {\r\n        var _this = this;\r\n        for (var i = 0; i < this.maxElements; i++) {\r\n            this.transformUi(0, 1000, 0, this.listElNodesObj[i]);\r\n        }\r\n        setTimeout(function () {\r\n            while (_this.listElNodesObj.length != 0) {\r\n                var itemIndex = _this.listElNodesObj[0].getAttribute(\"index\");\r\n                _this.callback.destroyItem(itemIndex);\r\n                _this.listElNodesObj[0].remove();\r\n            }\r\n            _this.callback.renderPreviousSection();\r\n        }, 400);\r\n    };\r\n    /**\r\n     * @param ElementObj\r\n     * this function postion every swiped element to top.\r\n     */\r\n    StackedCards.prototype.postionElementToTop = function (ElementObj) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.transformUi(0, -1000, 0, ElementObj);\r\n        }, 400);\r\n    };\r\n    StackedCards.prototype.destroy = function () {\r\n        while (this.listElNodesObj.length != 0) {\r\n            var itemIndex = this.listElNodesObj[0].getAttribute(\"index\");\r\n            this.callback.destroyItem(itemIndex);\r\n            this.listElNodesObj[0].remove();\r\n        }\r\n    };\r\n    return StackedCards;\r\n}());\r\nexports.default = StackedCards;\r\n","// extracted by mini-css-extract-plugin","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar base_activity_player_1 = require(\"libs-base-activity-player/src/base-activity-player\");\r\nvar flashcard_activity_component_1 = require(\"../components/activity-player/flashcard-activity.component\");\r\nvar enums_1 = require(\"../utils/enums\");\r\nvar react_dom_1 = require(\"react-dom\");\r\nvar react_1 = __importDefault(require(\"react\"));\r\nrequire(\"./styles/index.less\");\r\nvar enums_2 = require(\"libs-base-activity-player/src/enums/enums\");\r\nvar event_enum_1 = require(\"libs-base-activity-player/src/EventManager/event.enum\");\r\nvar event_args_1 = require(\"libs-base-activity-player/src/EventManager/event-args\");\r\nvar FlashCardContainer = /** @class */ (function (_super) {\r\n    __extends(FlashCardContainer, _super);\r\n    function FlashCardContainer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.itemMap = [];\r\n        return _this;\r\n    }\r\n    FlashCardContainer.prototype.init = function (launchId, activityJson, args1, args2) {\r\n        this.createItemMap(activityJson);\r\n        this.totalSections = activityJson.itemBody.cards.length;\r\n        return _super.prototype.init.call(this, launchId, activityJson, args1, args2);\r\n    };\r\n    FlashCardContainer.prototype.render = function (launchId, container) {\r\n        try {\r\n            if (!container) {\r\n                if (!this.container) {\r\n                    throw new Error('Container not present to render Activity Player');\r\n                }\r\n                else {\r\n                    container = this.container;\r\n                }\r\n            }\r\n            var activityPlayerCallback = {\r\n                registerChildComp: this.registerChildComp.bind(this),\r\n                renderItem: this.renderItem.bind(this),\r\n                destroyItem: this.destroyItem.bind(this),\r\n                getItemIndex: this.getItemIndex.bind(this),\r\n                getItemCountInSection: this.getItemCountInSection.bind(this),\r\n                getCurrentItemIndex: this.getCurrentItemIndex.bind(this),\r\n                getItems: this.getItems.bind(this),\r\n                getCurrentItem: this.getCurrentItem.bind(this),\r\n                setCurrentItem: this.setCurrentItem.bind(this),\r\n                navigationEventHandler: this.triggerNavigationEvent.bind(this),\r\n                launchedEventHandler: this.triggerLaunchedEvent.bind(this),\r\n                submitEventHandler: this.triggerSubmitEvent.bind(this)\r\n            };\r\n            react_dom_1.render(react_1.default.createElement(flashcard_activity_component_1.FlashCardActivityComponent, { launchId: this.launchId, eventMgr: this.eventMgr, callback: activityPlayerCallback, totalSections: this.totalSections }), container);\r\n        }\r\n        catch (exception) {\r\n            console.log(exception);\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param index\r\n     * @param container\r\n     */\r\n    FlashCardContainer.prototype.renderItem = function (index, container) {\r\n        return this.items[index].render(container);\r\n    };\r\n    /**\r\n    * Function to register child component instances with parent.\r\n    * @param compType\r\n    * @param instance\r\n    */\r\n    FlashCardContainer.prototype.registerChildComp = function (compType, instance) {\r\n        switch (compType) {\r\n            case enums_1.Components.ACTIVITY_PLAYER: {\r\n                this.activityPlayerComp = instance;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * this function display next card of the section\r\n     */\r\n    FlashCardContainer.prototype.goToNextItem = function () {\r\n        this.activityPlayerComp.onItemNavigation(enums_1.NavigationDirection.NEXT);\r\n    };\r\n    /**\r\n     * this function display previous card of the section\r\n     */\r\n    FlashCardContainer.prototype.goToPreviousItem = function () {\r\n        this.activityPlayerComp.onItemNavigation(enums_1.NavigationDirection.PREVIOUS);\r\n    };\r\n    /**\r\n     * abstract function\r\n     */\r\n    FlashCardContainer.prototype.focalise = function () {\r\n    };\r\n    /**\r\n     * abstract function\r\n     */\r\n    FlashCardContainer.prototype.getOptimumDimensions = function () {\r\n        return {\r\n            height: 0,\r\n            width: 0\r\n        };\r\n    };\r\n    /**\r\n     * this function return total item in activity json\r\n     */\r\n    FlashCardContainer.prototype.getItemCount = function () {\r\n        return this.itemMap.length;\r\n    };\r\n    /**\r\n     * return itemindex based on the curent section and item\r\n     * @param section\r\n     * @param index\r\n     */\r\n    FlashCardContainer.prototype.getItemIndex = function (section, index) {\r\n        return this.itemMap.findIndex(function (currentItem, i, array) {\r\n            return currentItem.itemId == section + \".\" + index;\r\n        });\r\n    };\r\n    /**\r\n     * abstract function\r\n     */\r\n    FlashCardContainer.prototype.getItemDefaultScore = function (idx) {\r\n        return {\r\n            score: {\r\n                min: 0,\r\n                max: 0,\r\n                raw: 0,\r\n                scaled: 0\r\n            },\r\n            status: enums_2.ScoreStatus.INCORRECT,\r\n            interacted: false,\r\n            completion: enums_2.CompletionStatus.NOT_ATTEMPTED\r\n        };\r\n    };\r\n    /**\r\n     * abstract function\r\n     * @param itemIndex\r\n     */\r\n    FlashCardContainer.prototype.getItemFragmentIdFromItemIndex = function (itemIndex) {\r\n        return this.itemMap[itemIndex].fragmentID;\r\n    };\r\n    /**\r\n     * this function return total item count in current section\r\n     * @param index\r\n     */\r\n    FlashCardContainer.prototype.getItemCountInSection = function (sectionIndex) {\r\n        return this.activityJson.itemBody.cards[sectionIndex].cards.length;\r\n    };\r\n    /**\r\n     *\r\n     * @param lastCurrentItem\r\n     * @param newCurrentItem\r\n     */\r\n    FlashCardContainer.prototype.triggerNavigationEvent = function (lastCurrentItem, newCurrentItem) {\r\n        var itemsArray = this.getItems();\r\n        var navigationEventArgs = {\r\n            launchId: this.launchId,\r\n            previousItem: {\r\n                'id': lastCurrentItem.uid,\r\n                'index': itemsArray.indexOf(lastCurrentItem)\r\n            },\r\n            currentItem: {\r\n                'id': newCurrentItem.uid,\r\n                'index': itemsArray.indexOf(newCurrentItem)\r\n            },\r\n            type: event_enum_1.EVENTS.ITEM_NAVIGATION\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.ITEM_NAVIGATION, new event_args_1.NavigationEventArgs(navigationEventArgs));\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    FlashCardContainer.prototype.triggerLaunchedEvent = function () {\r\n        var launchedEventArgs = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.LAUNCHED\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.LAUNCHED, new event_args_1.EventArgs(launchedEventArgs));\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    FlashCardContainer.prototype.triggerSubmitEvent = function () {\r\n        var submitPayload = {\r\n            launchId: this.launchId,\r\n            type: event_enum_1.EVENTS.SUBMIT,\r\n            response: {\r\n                score: {\r\n                    min: 0,\r\n                    max: 0,\r\n                    raw: 0,\r\n                    scaled: 0\r\n                }\r\n            }\r\n        };\r\n        this.eventMgr.emit(event_enum_1.EVENTS.SUBMIT, new event_args_1.SubmitEventArgs(submitPayload));\r\n    };\r\n    /**\r\n     * creating an itemMapArray so that this.item can be maped with section and its items\r\n     * @param activityJson\r\n     */\r\n    FlashCardContainer.prototype.createItemMap = function (activityJson) {\r\n        for (var i = 0; i < activityJson.itemBody.cards.length; i++) {\r\n            var section = activityJson.itemBody.cards[i];\r\n            for (var j = 0; j < section.cards.length; j++) {\r\n                this.itemMap.push({\r\n                    itemId: i + \".\" + j,\r\n                    fragmentID: section.cards[j].itemId\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * function is used to destroy itemPlayer instance\r\n     * @param index\r\n     */\r\n    FlashCardContainer.prototype.destroyItem = function (index) {\r\n        this.items[index].destroy();\r\n    };\r\n    return FlashCardContainer;\r\n}(base_activity_player_1.BaseActivityPlayer));\r\nexports.default = FlashCardContainer;\r\n","// extracted by mini-css-extract-plugin","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Components = {\r\n    ACTIVITY_PLAYER: 'activity-player',\r\n    ITEM_PLAYER: 'item-player',\r\n    BUTTON_BAR: 'button-bar',\r\n    LOADER: 'loader'\r\n};\r\nexports.NavigationDirection = {\r\n    PREVIOUS: 'previous',\r\n    NEXT: 'next'\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;"],"sourceRoot":""}